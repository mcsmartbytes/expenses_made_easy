(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{968:function(e,t,s){Promise.resolve().then(s.bind(s,7726))},7726:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(7437),l=s(2265),n=s(6079),r=s(2094);function d(){let[e,t]=(0,l.useState)(!0),[s,d]=(0,l.useState)([]),[i,o]=(0,l.useState)(null),[c,x]=(0,l.useState)({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});async function u(){t(!0);try{let{data:{user:e}}=await r.O.auth.getUser();if(!e)return;let{data:t}=await r.O.from("expenses").select("\n          amount,\n          is_business,\n          categories (\n            schedule_c_line,\n            deduction_percentage,\n            schedule_c_line_items (\n              line_name\n            )\n          )\n        ").eq("user_id",e.id).eq("is_business",!0).gte("date",c.start).lte("date",c.end),s=new Map;null==t||t.forEach(e=>{var t;let a=e.categories;if(!a)return;let l=a.schedule_c_line||"uncategorized",n=(null===(t=a.schedule_c_line_items)||void 0===t?void 0:t.line_name)||"Other Expenses",r=Number(e.amount),d=a.deduction_percentage||0,i=r*d/100;s.has(l)||s.set(l,{schedule_c_line:a.schedule_c_line,line_name:n,total_amount:0,deductible_amount:0,deduction_percentage:d,expense_count:0});let o=s.get(l);o.total_amount+=r,o.deductible_amount+=i,o.expense_count+=1});let a=Array.from(s.values()).sort((e,t)=>e.schedule_c_line?t.schedule_c_line?e.schedule_c_line.localeCompare(t.schedule_c_line):-1:1);d(a);let{data:l}=await r.O.from("mileage").select("distance, amount").eq("user_id",e.id).eq("is_business",!0).gte("date",c.start).lte("date",c.end),n=(null==l?void 0:l.reduce((e,t)=>e+Number(t.distance),0))||0,i=(null==l?void 0:l.reduce((e,t)=>e+Number(t.amount),0))||0;o({total_miles:n,total_deduction:i,trip_count:(null==l?void 0:l.length)||0})}catch(e){console.error("Error loading reports:",e)}finally{t(!1)}}(0,l.useEffect)(()=>{u()},[c]);let m=s.reduce((e,t)=>e+t.deductible_amount,0)+((null==i?void 0:i.total_deduction)||0),h=s.reduce((e,t)=>e+t.total_amount,0),p=s.reduce((e,t)=>e+t.expense_count,0);return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-blue-50",children:[(0,a.jsx)(n.Z,{}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tax Reports"}),(0,a.jsx)("p",{className:"text-gray-600",children:"IRS Schedule C expense breakdown and deduction summary"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border-2 border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-end gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:c.start,onChange:e=>x({...c,start:e.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:c.end,onChange:e=>x({...c,end:e.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsx)("button",{onClick:()=>x({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-medium",children:"Reset to Year"}),(0,a.jsxs)("button",{onClick:function(){let e=[];e.push("Schedule C Line,Category,Total Amount,Deductible Amount,Deduction %,# of Expenses"),s.forEach(t=>{e.push([t.schedule_c_line||"N/A",t.line_name||"Other",t.total_amount.toFixed(2),t.deductible_amount.toFixed(2),t.deduction_percentage,t.expense_count].join(","))}),i&&i.total_miles>0&&(e.push(""),e.push("Mileage Deductions"),e.push("Total Miles,Total Deduction,# of Trips"),e.push([i.total_miles.toFixed(2),i.total_deduction.toFixed(2),i.trip_count].join(",")));let t=new Blob([e.join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download="tax-report-".concat(c.start,"-to-").concat(c.end,".csv"),l.click(),window.URL.revokeObjectURL(a)},disabled:e||0===s.length,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export to CSV"]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl shadow-lg p-6 text-white",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-blue-100 mb-2",children:"Total Deductible"}),(0,a.jsxs)("p",{className:"text-4xl font-bold mb-1",children:["$",m.toFixed(2)]}),(0,a.jsxs)("p",{className:"text-sm text-blue-100",children:["Estimated tax savings: $",(.24*m).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 border-2 border-gray-200",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Total Expenses"}),(0,a.jsxs)("p",{className:"text-4xl font-bold text-gray-900 mb-1",children:["$",h.toFixed(2)]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[p," business expenses"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-600 to-green-700 rounded-xl shadow-lg p-6 text-white",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-green-100 mb-2",children:"Deduction Rate"}),(0,a.jsxs)("p",{className:"text-4xl font-bold mb-1",children:[h>0?(m/h*100).toFixed(0):0,"%"]}),(0,a.jsx)("p",{className:"text-sm text-green-100",children:"Of total expenses"})]})]}),e?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading reports..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg mb-8 border-2 border-gray-200",children:[(0,a.jsxs)("div",{className:"px-6 py-5 border-b-2 border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Schedule C Line Item Breakdown"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"IRS Form 1040 Schedule C categories"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Line"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Category"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Deductible"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Rate"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"# Expenses"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.schedule_c_line||"N/A"}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.line_name||"Uncategorized"}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:["$",e.total_amount.toFixed(2)]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-green-600",children:["$",e.deductible_amount.toFixed(2)]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[100===e.deduction_percentage&&(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium",children:"100%"}),50===e.deduction_percentage&&(0,a.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full font-medium",children:"50%"}),0===e.deduction_percentage&&(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full font-medium",children:"0%"}),e.deduction_percentage>0&&e.deduction_percentage<100&&50!==e.deduction_percentage&&(0,a.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:[e.deduction_percentage,"%"]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:e.expense_count})]},t))}),(0,a.jsx)("tfoot",{className:"bg-gray-50 font-semibold",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{colSpan:2,className:"px-6 py-4 text-sm text-gray-900",children:"Total Expenses"}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:["$",h.toFixed(2)]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-green-600 font-bold",children:["$",s.reduce((e,t)=>e+t.deductible_amount,0).toFixed(2)]}),(0,a.jsx)("td",{className:"px-6 py-4"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-900",children:p})]})})]})}),0===s.length&&(0,a.jsxs)("div",{className:"p-12 text-center text-gray-500",children:[(0,a.jsx)("p",{className:"text-lg mb-2",children:"No business expenses found"}),(0,a.jsx)("p",{className:"text-sm",children:"Add business expenses to see your tax deduction report"})]})]}),i&&i.total_miles>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-200",children:[(0,a.jsxs)("div",{className:"px-6 py-5 border-b-2 border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Mileage Deductions"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"IRS Standard Mileage Rate ($0.67/mile for 2025)"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Total Miles"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:i.total_miles.toFixed(1)}),(0,a.jsxs)("p",{className:"text-xs text-blue-700 mt-1",children:[i.trip_count," business trips"]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-900 mb-1",children:"Total Deduction"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",i.total_deduction.toFixed(2)]}),(0,a.jsx)("p",{className:"text-xs text-green-700 mt-1",children:"100% deductible"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-900 mb-1",children:"Tax Savings"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:["$",(.24*i.total_deduction).toFixed(2)]}),(0,a.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:"At 24% tax bracket"})]})]})})]})]}),(0,a.jsx)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("div",{className:"text-sm text-blue-900",children:[(0,a.jsx)("p",{className:"font-semibold mb-1",children:"Important Tax Information"}),(0,a.jsx)("p",{children:"This report is generated from your expense tracking data with IRS-compliant classifications. Always consult with a licensed tax professional or CPA before filing your taxes. Keep all receipts and documentation for at least 3 years from the date you file your return."})]})]})})]})]})}},6079:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(7437),l=s(2265),n=s(7138),r=s(6463),d=s(2094);function i(){let e=(0,r.usePathname)(),t=(0,r.useRouter)(),[s,i]=(0,l.useState)(null),[o,c]=(0,l.useState)(!1),[x,u]=(0,l.useState)(!1);async function m(){let{data:{user:e}}=await d.O.auth.getUser();i(e)}async function h(){c(!0);try{await d.O.auth.signOut(),i(null),u(!1),t.push("/")}catch(e){console.error("Error signing out:",e)}finally{c(!1)}}(0,l.useEffect)(()=>{m()},[]),(0,l.useEffect)(()=>{u(!1)},[e]);let p=[{href:"/expense-dashboard",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/expenses",label:"Expenses",icon:"\uD83D\uDCCB"},{href:"/budgets",label:"Budgets",icon:"\uD83D\uDCB0"},{href:"/receipts",label:"Receipts",icon:"\uD83E\uDDFE"},{href:"/mileage",label:"Mileage",icon:"\uD83D\uDE97"},{href:"/reports",label:"Reports",icon:"\uD83D\uDCC8"},{href:"/profile",label:"Profile",icon:"\uD83D\uDC64"}];return(0,a.jsx)("nav",{className:"bg-white shadow-sm border-b",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)(n.default,{href:"/expense-dashboard",className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCB0"}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"Expenses Made Easy"})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-1",children:[p.map(t=>(0,a.jsxs)(n.default,{href:t.href,className:"px-4 py-2 rounded-lg text-sm font-medium transition ".concat(e===t.href?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)("span",{className:"mr-1",children:t.icon}),t.label]},t.href)),s?(0,a.jsxs)("button",{onClick:h,disabled:o,className:"ml-2 px-4 py-2 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition disabled:opacity-50",children:[(0,a.jsx)("span",{className:"mr-1",children:"\uD83D\uDEAA"}),o?"Logging out...":"Logout"]}):(0,a.jsxs)(n.default,{href:"/auth/login",className:"ml-2 px-4 py-2 rounded-lg text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition",children:[(0,a.jsx)("span",{className:"mr-1",children:"\uD83D\uDD10"}),"Login"]})]}),(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsx)("button",{onClick:()=>u(!x),className:"p-2 rounded-lg text-gray-700 hover:bg-gray-100","aria-label":"Toggle menu",children:x?"✕":"☰"})})]}),x&&(0,a.jsx)("div",{className:"md:hidden py-4 border-t",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[p.map(t=>(0,a.jsxs)(n.default,{href:t.href,className:"px-4 py-3 rounded-lg text-sm font-medium transition ".concat(e===t.href?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)("span",{className:"mr-2",children:t.icon}),t.label]},t.href)),(0,a.jsx)("div",{className:"border-t my-2 pt-2",children:s?(0,a.jsxs)("button",{onClick:h,disabled:o,className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-left text-gray-700 hover:bg-gray-100 transition disabled:opacity-50",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDEAA"}),o?"Logging out...":"Logout"]}):(0,a.jsxs)(n.default,{href:"/auth/login",className:"block px-4 py-3 rounded-lg text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition text-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDD10"}),"Login"]})})]})})]})})}},6463:function(e,t,s){"use strict";var a=s(1169);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},2094:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});let a=(0,s(2835).eI)("https://vckynnyputrvwjhosryl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZja3lubnlwdXRydndqaG9zcnlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4NDQ5OTgsImV4cCI6MjA3NTQyMDk5OH0.wpopXA3AtRSKAJdGqtcEtbBJPcpCGfeqm6VC27JkNEI",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"expenses-made-easy-auth"}})}},function(e){e.O(0,[138,835,971,23,744],function(){return e(e.s=968)}),_N_E=e.O()}]);