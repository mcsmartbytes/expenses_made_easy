(()=>{var e={};e.id=938,e.ids=[938],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},960:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>o}),t(7322),t(6001),t(5866);var r=t(3191),a=t(8716),i=t(7922),n=t.n(i),l=t(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7322)),"/home/mcsmart/projects/active/expenses_made_easy/app/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6001)),"/home/mcsmart/projects/active/expenses_made_easy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/mcsmart/projects/active/expenses_made_easy/app/settings/page.tsx"],m="/settings/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4745:(e,s,t)=>{Promise.resolve().then(t.bind(t,942))},942:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(326),a=t(7577),i=t(434),n=t(7553),l=t(2321);function c(){let[e,s]=(0,a.useState)(!0),[t,c]=(0,a.useState)(!1),[o,d]=(0,a.useState)(""),[m,x]=(0,a.useState)(5),[p,u]=(0,a.useState)("light"),[g,h]=(0,a.useState)("#3B82F6");async function b(){c(!0),d("");try{let{data:{user:e}}=await l.O.auth.getUser();if(!e)return;let{data:s}=await l.O.from("user_profiles").select("id, preferences").eq("user_id",e.id).single(),t={...s?.preferences||{},mileage_auto_start_speed:m,theme:p,primary_color:g};if(s){let{error:s}=await l.O.from("user_profiles").update({preferences:t}).eq("user_id",e.id);if(s)throw s}else{let{error:s}=await l.O.from("user_profiles").insert({user_id:e.id,preferences:t});if(s)throw s}d("Settings saved successfully!"),setTimeout(()=>d(""),3e3)}catch(e){console.error("Error saving settings:",e),d("Error saving settings. Please try again.")}finally{c(!1)}}return e?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(n.Z,{}),r.jsx("main",{className:"max-w-3xl mx-auto px-4 py-8",children:r.jsx("p",{className:"text-center text-gray-500",children:"Loading settings..."})})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(n.Z,{}),(0,r.jsxs)("main",{className:"max-w-3xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Customize your app preferences"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Mileage Tracker Settings"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto-Start Speed Threshold"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Mileage tracking will automatically start when your vehicle reaches this speed."}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"range",min:"5",max:"10",step:"1",value:m,onChange:e=>x(parseInt(e.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 min-w-[100px]",children:[r.jsx("input",{type:"number",min:"5",max:"10",value:m,onChange:e=>{let s=parseInt(e.target.value);s>=5&&s<=10&&x(s)},className:"w-16 px-3 py-2 border border-gray-300 rounded-lg text-center"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"mph"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2 px-1",children:[r.jsx("span",{children:"5 mph (More sensitive)"}),r.jsx("span",{children:"10 mph (Less sensitive)"})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-blue-800",children:(0,r.jsxs)("strong",{children:["Current setting: ",m," mph"]})}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Lower values start tracking sooner (e.g., 5 mph = starts in parking lots). Higher values reduce false starts (e.g., 10 mph = highway driving only)."})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Appearance"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"theme",value:"light",checked:"light"===p,onChange:()=>u("light")}),r.jsx("span",{children:"Light"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"theme",value:"dark",checked:"dark"===p,onChange:()=>u("dark")}),r.jsx("span",{children:"Dark"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["#3B82F6","#EF4444","#10B981","#8B5CF6","#F97316","#EC4899","#F59E0B","#14B8A6"].map(e=>r.jsx("button",{type:"button",onClick:()=>h(e),className:`w-8 h-8 rounded-full border-2 ${g===e?"border-blue-600":"border-gray-300"}`,style:{backgroundColor:e},"aria-label":`Select ${e}`},e))})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:b,disabled:t,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Saving...":"Save Settings"}),o&&r.jsx("p",{className:`text-sm font-medium ${o.includes("Error")?"text-red-600":"text-green-600"}`,children:o})]}),r.jsx("div",{className:"mt-8",children:r.jsx(i.default,{href:"/mileage",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"â† Back to Mileage Tracker"})})]})]})}},7322:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=t(8570);let a=(0,r.createProxy)(String.raw`/home/mcsmart/projects/active/expenses_made_easy/app/settings/page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let l=(0,r.createProxy)(String.raw`/home/mcsmart/projects/active/expenses_made_easy/app/settings/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,471,434,812,246],()=>t(960));module.exports=r})();