{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/components/InstallPrompt.tsx"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\n\ninterface BeforeInstallPromptEvent extends Event {\n  prompt: () => Promise<void>;\n  userChoice: Promise<{ outcome: 'accepted' | 'dismissed' }>;\n}\n\nexport default function InstallPrompt() {\n  const [showPrompt, setShowPrompt] = useState(false);\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\n  const [isIOS, setIsIOS] = useState(false);\n  const [isStandalone, setIsStandalone] = useState(false);\n\n  useEffect(() => {\n    // Check if already installed (standalone mode)\n    const standalone = window.matchMedia('(display-mode: standalone)').matches;\n    setIsStandalone(standalone);\n\n    // Check if iOS\n    const iOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\n    setIsIOS(iOS);\n\n    // Check if already dismissed\n    const dismissed = localStorage.getItem('pwa-install-dismissed');\n    if (dismissed || standalone) return;\n\n    // Listen for install prompt (Chrome/Edge/Android)\n    const handleBeforeInstall = (e: Event) => {\n      e.preventDefault();\n      setDeferredPrompt(e as BeforeInstallPromptEvent);\n      setShowPrompt(true);\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstall);\n\n    // Show iOS instructions after delay\n    if (iOS && !standalone) {\n      const timer = setTimeout(() => setShowPrompt(true), 5000);\n      return () => {\n        clearTimeout(timer);\n        window.removeEventListener('beforeinstallprompt', handleBeforeInstall);\n      };\n    }\n\n    return () => window.removeEventListener('beforeinstallprompt', handleBeforeInstall);\n  }, []);\n\n  const handleInstall = async () => {\n    if (deferredPrompt) {\n      deferredPrompt.prompt();\n      const { outcome } = await deferredPrompt.userChoice;\n      if (outcome === 'accepted') {\n        setShowPrompt(false);\n      }\n      setDeferredPrompt(null);\n    }\n  };\n\n  const handleDismiss = () => {\n    setShowPrompt(false);\n    localStorage.setItem('pwa-install-dismissed', 'true');\n  };\n\n  if (!showPrompt || isStandalone) return null;\n\n  return (\n    <div className=\"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:max-w-sm bg-gradient-to-r from-blue-600 to-blue-700 text-white p-5 rounded-xl shadow-2xl z-50 animate-slide-up\">\n      <button\n        onClick={handleDismiss}\n        className=\"absolute top-3 right-3 text-white/80 hover:text-white text-xl leading-none\"\n        aria-label=\"Dismiss\"\n      >\n        &times;\n      </button>\n\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex-shrink-0 w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center\">\n          <svg className=\"w-7 h-7\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z\" />\n          </svg>\n        </div>\n\n        <div className=\"flex-1\">\n          <h3 className=\"font-bold text-lg mb-1\">Install App</h3>\n\n          {isIOS ? (\n            <div className=\"text-sm text-blue-100\">\n              <p className=\"mb-2\">Add to your home screen for quick access:</p>\n              <ol className=\"list-decimal list-inside space-y-1 text-xs\">\n                <li>Tap the <span className=\"inline-flex items-center bg-white/20 px-1.5 py-0.5 rounded\">\n                  <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2L12 14M12 2L8 6M12 2L16 6M4 14L4 20C4 21.1 4.9 22 6 22L18 22C19.1 22 20 21.1 20 20L20 14\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\"/></svg>\n                </span> Share button</li>\n                <li>Scroll and tap <strong>\"Add to Home Screen\"</strong></li>\n                <li>Tap <strong>\"Add\"</strong></li>\n              </ol>\n            </div>\n          ) : (\n            <div>\n              <p className=\"text-sm text-blue-100 mb-3\">Get quick access from your home screen!</p>\n              {deferredPrompt && (\n                <button\n                  onClick={handleInstall}\n                  className=\"bg-white text-blue-600 px-5 py-2 rounded-lg font-semibold text-sm hover:bg-blue-50 transition shadow-lg\"\n                >\n                  Install Now\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AADA;;AAQe,SAAS;;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,qNAAQ,EAAC;IAC7C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,qNAAQ,EAAkC;IACtF,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qNAAQ,EAAC;IACnC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qNAAQ,EAAC;IAEjD,IAAA,sNAAS;mCAAC;YACR,+CAA+C;YAC/C,MAAM,aAAa,OAAO,UAAU,CAAC,8BAA8B,OAAO;YAC1E,gBAAgB;YAEhB,eAAe;YACf,MAAM,MAAM,mBAAmB,IAAI,CAAC,UAAU,SAAS;YACvD,SAAS;YAET,6BAA6B;YAC7B,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,aAAa,YAAY;YAE7B,kDAAkD;YAClD,MAAM;+DAAsB,CAAC;oBAC3B,EAAE,cAAc;oBAChB,kBAAkB;oBAClB,cAAc;gBAChB;;YAEA,OAAO,gBAAgB,CAAC,uBAAuB;YAE/C,oCAAoC;YACpC,IAAI,OAAO,CAAC,YAAY;gBACtB,MAAM,QAAQ;qDAAW,IAAM,cAAc;oDAAO;gBACpD;+CAAO;wBACL,aAAa;wBACb,OAAO,mBAAmB,CAAC,uBAAuB;oBACpD;;YACF;YAEA;2CAAO,IAAM,OAAO,mBAAmB,CAAC,uBAAuB;;QACjE;kCAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,IAAI,gBAAgB;YAClB,eAAe,MAAM;YACrB,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,eAAe,UAAU;YACnD,IAAI,YAAY,YAAY;gBAC1B,cAAc;YAChB;YACA,kBAAkB;QACpB;IACF;IAEA,MAAM,gBAAgB;QACpB,cAAc;QACd,aAAa,OAAO,CAAC,yBAAyB;IAChD;IAEA,IAAI,CAAC,cAAc,cAAc,OAAO;IAExC,qBACE,yOAAC;QAAI,WAAU;;0BACb,yOAAC;gBACC,SAAS;gBACT,WAAU;gBACV,cAAW;0BACZ;;;;;;0BAID,yOAAC;gBAAI,WAAU;;kCACb,yOAAC;wBAAI,WAAU;kCACb,cAAA,yOAAC;4BAAI,WAAU;4BAAU,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCACjE,cAAA,yOAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;;;;;;kCAIzE,yOAAC;wBAAI,WAAU;;0CACb,yOAAC;gCAAG,WAAU;0CAAyB;;;;;;4BAEtC,sBACC,yOAAC;gCAAI,WAAU;;kDACb,yOAAC;wCAAE,WAAU;kDAAO;;;;;;kDACpB,yOAAC;wCAAG,WAAU;;0DACZ,yOAAC;;oDAAG;kEAAQ,yOAAC;wDAAK,WAAU;kEAC1B,cAAA,yOAAC;4DAAI,WAAU;4DAAU,MAAK;4DAAe,SAAQ;sEAAY,cAAA,yOAAC;gEAAK,GAAE;gEAAgG,QAAO;gEAAe,aAAY;gEAAI,MAAK;;;;;;;;;;;;;;;;oDAC/M;;;;;;;0DACP,yOAAC;;oDAAG;kEAAe,yOAAC;kEAAO;;;;;;;;;;;;0DAC3B,yOAAC;;oDAAG;kEAAI,yOAAC;kEAAO;;;;;;;;;;;;;;;;;;;;;;;qDAIpB,yOAAC;;kDACC,yOAAC;wCAAE,WAAU;kDAA6B;;;;;;oCACzC,gCACC,yOAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB;GA1GwB;KAAA"}}]
}