{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/utils/supabase.ts"],"sourcesContent":["import { createClient as createSupabaseClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport function createClient() {\n  return createSupabaseClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n      storage: typeof window !== 'undefined' ? window.localStorage : undefined,\n      storageKey: 'expenses-made-easy-auth'\n    }\n  });\n}\n\nexport const supabase = createClient();\n"],"names":[],"mappings":";;;;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,SAAS;IACd,OAAO,IAAA,0MAAoB,EAAC,aAAa,iBAAiB;QACxD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;YACpB,SAAS,uCAAgC,OAAO,YAAY,GAAG;YAC/D,YAAY;QACd;IACF;AACF;AAEO,MAAM,WAAW"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/app/auth/signin/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { supabase } from '@/utils/supabase';\n\nexport default function SignInPage() {\n  const router = useRouter();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n\n  async function handleSignIn(e: React.FormEvent) {\n    e.preventDefault();\n    setLoading(true);\n    setMessage(null);\n\n    console.log('üîê Sign in attempt started', { email });\n    console.log('üì° Supabase client:', supabase);\n    console.log('üåç Environment:', {\n      url: process.env.NEXT_PUBLIC_SUPABASE_URL,\n      hasKey: !!process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n    });\n\n    try {\n      const { data, error } = await supabase.auth.signInWithPassword({ email, password });\n      console.log('üì• Sign in response:', { data, error });\n\n      if (error) {\n        console.error('‚ùå Sign in error:', error);\n        throw error;\n      }\n\n      if (data?.session) {\n        console.log('‚úÖ Session created, redirecting to dashboard');\n        console.log('üíæ Session stored in localStorage');\n\n        // Wait 5 seconds so you can see any errors\n        console.log('‚è∞ Waiting 5 seconds before redirect...');\n        await new Promise(resolve => setTimeout(resolve, 5000));\n\n        // Use window.location for a full page reload to ensure session is loaded\n        console.log('üîÑ Redirecting now...');\n        window.location.href = '/expense-dashboard';\n      } else {\n        console.log('‚ö†Ô∏è No session returned');\n        setMessage('Check your email to confirm your account, then sign in.');\n      }\n    } catch (err: any) {\n      console.error('üí• Caught error:', err);\n      setMessage(err.message || 'Failed to sign in');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center px-4\">\n      <div className=\"max-w-md w-full bg-white rounded-2xl shadow-xl p-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Sign In</h1>\n        <p className=\"text-gray-600 mb-6\">Welcome back ‚Äî sign in to continue</p>\n\n        <form onSubmit={handleSignIn} className=\"space-y-4\">\n          <input\n            type=\"email\"\n            placeholder=\"Email address\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n          <button type=\"submit\" disabled={loading} className=\"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50\">\n            {loading ? 'Signing in...' : 'Sign In'}\n          </button>\n        </form>\n\n        {message && (\n          <p className=\"text-center text-sm mt-4 text-red-600\">{message}</p>\n        )}\n\n        <p className=\"text-center text-sm text-gray-600 mt-6\">\n          No account yet?{' '}\n          <Link href=\"/auth/signup\" className=\"text-blue-600 hover:text-blue-700 font-semibold\">\n            Create one free\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAsBW;;AApBX;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAgB;IAEtD,eAAe,aAAa,CAAkB;QAC5C,EAAE,cAAc;QAChB,WAAW;QACX,WAAW;QAEX,QAAQ,GAAG,CAAC,8BAA8B;YAAE;QAAM;QAClD,QAAQ,GAAG,CAAC,uBAAuB,gIAAQ;QAC3C,QAAQ,GAAG,CAAC,mBAAmB;YAC7B,GAAG;YACH,QAAQ,CAAC;QACX;QAEA,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,gIAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;gBAAE;gBAAO;YAAS;YACjF,QAAQ,GAAG,CAAC,wBAAwB;gBAAE;gBAAM;YAAM;YAElD,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,oBAAoB;gBAClC,MAAM;YACR;YAEA,IAAI,MAAM,SAAS;gBACjB,QAAQ,GAAG,CAAC;gBACZ,QAAQ,GAAG,CAAC;gBAEZ,2CAA2C;gBAC3C,QAAQ,GAAG,CAAC;gBACZ,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;gBAEjD,yEAAyE;gBACzE,QAAQ,GAAG,CAAC;gBACZ,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB,OAAO;gBACL,QAAQ,GAAG,CAAC;gBACZ,WAAW;YACb;QACF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,oBAAoB;YAClC,WAAW,IAAI,OAAO,IAAI;QAC5B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAwC;;;;;;8BACtD,6LAAC;oBAAE,WAAU;8BAAqB;;;;;;8BAElC,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,QAAQ;4BACR,WAAU;;;;;;sCAEZ,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,QAAQ;4BACR,WAAU;;;;;;sCAEZ,6LAAC;4BAAO,MAAK;4BAAS,UAAU;4BAAS,WAAU;sCAChD,UAAU,kBAAkB;;;;;;;;;;;;gBAIhC,yBACC,6LAAC;oBAAE,WAAU;8BAAyC;;;;;;8BAGxD,6LAAC;oBAAE,WAAU;;wBAAyC;wBACpC;sCAChB,6LAAC,0KAAI;4BAAC,MAAK;4BAAe,WAAU;sCAAkD;;;;;;;;;;;;;;;;;;;;;;;AAOhG;GA5FwB;;QACP,kJAAS;;;KADF"}}]
}