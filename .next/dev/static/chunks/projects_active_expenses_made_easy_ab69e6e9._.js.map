{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/utils/supabase.ts"],"sourcesContent":["import { createClient as createSupabaseClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport function createClient() {\n  return createSupabaseClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n      storage: typeof window !== 'undefined' ? window.localStorage : undefined,\n      storageKey: 'expenses-made-easy-auth'\n    }\n  });\n}\n\nexport const supabase = createClient();\n"],"names":[],"mappings":";;;;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,SAAS;IACd,OAAO,IAAA,sPAAoB,EAAC,aAAa,iBAAiB;QACxD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;YACpB,SAAS,uCAAgC,OAAO,YAAY,GAAG;YAC/D,YAAY;QACd;IACF;AACF;AAEO,MAAM,WAAW"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/components/Navigation.tsx"],"sourcesContent":["import Link from 'next/link';\n\nexport default function Navigation() {\n  return (\n    <nav className=\"bg-white shadow-sm\">\n      <div className=\"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between\">\n        \n        {/* App title – You can rename this later */}\n        <Link href=\"/expense-dashboard\" className=\"text-lg font-bold text-gray-900\">\n          Expense Manager\n        </Link>\n\n        <div className=\"flex gap-6 text-sm font-medium\">\n          <Link href=\"/expense-dashboard\" className=\"text-gray-700 hover:text-blue-600\">\n            Dashboard\n          </Link>\n\n          <Link href=\"/jobs\" className=\"text-gray-700 hover:text-blue-600\">\n            Jobs\n          </Link>\n\n          <Link href=\"/expenses\" className=\"text-gray-700 hover:text-blue-600\">\n            Expenses\n          </Link>\n\n          <Link href=\"/time-tracking\" className=\"text-gray-700 hover:text-blue-600\">\n            Time Tracking\n          </Link>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,yOAAC;QAAI,WAAU;kBACb,cAAA,yOAAC;YAAI,WAAU;;8BAGb,yOAAC,sNAAI;oBAAC,MAAK;oBAAqB,WAAU;8BAAkC;;;;;;8BAI5E,yOAAC;oBAAI,WAAU;;sCACb,yOAAC,sNAAI;4BAAC,MAAK;4BAAqB,WAAU;sCAAoC;;;;;;sCAI9E,yOAAC,sNAAI;4BAAC,MAAK;4BAAQ,WAAU;sCAAoC;;;;;;sCAIjE,yOAAC,sNAAI;4BAAC,MAAK;4BAAY,WAAU;sCAAoC;;;;;;sCAIrE,yOAAC,sNAAI;4BAAC,MAAK;4BAAiB,WAAU;sCAAoC;;;;;;;;;;;;;;;;;;;;;;;AAOpF;KA9BwB"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/app/time-tracking/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { supabase } from '@/utils/supabase';\nimport Navigation from '@/components/Navigation';\n\ntype TimeRow = {\n  id: string;\n  entry_date: string;\n  hours: number;\n  hourly_rate: number | null;\n  notes: string | null;\n  job_id: string | null;\n  jobs: { name: string } | null;\n};\n\nexport default function TimeTrackingPage() {\n  const [rows, setRows] = useState<TimeRow[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    void loadTime();\n  }, []);\n\n  async function loadTime() {\n    setLoading(true);\n    try {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n\n      if (!user) {\n        setRows([]);\n        setLoading(false);\n        return;\n      }\n\n      const { data, error } = await supabase\n        .from('time_entries')\n        .select('id, entry_date, hours, hourly_rate, notes, job_id, jobs(name)')\n        .eq('user_id', user.id)\n        .order('entry_date', { ascending: false });\n\n      if (error) throw error;\n\n      setRows(\n        (data || []).map((t: any) => ({\n          ...t,\n          hours: Number(t.hours),\n          hourly_rate: t.hourly_rate !== null ? Number(t.hourly_rate) : null,\n        }))\n      );\n    } catch (err) {\n      console.error('Error loading time entries:', err);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const totalHours = rows.reduce((s, r) => s + r.hours, 0);\n  const totalLaborCost = rows.reduce((s, r) => {\n    if (!r.hourly_rate) return s;\n    return s + r.hours * r.hourly_rate;\n  }, 0);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navigation />\n        <div className=\"flex items-center justify-center py-24\">\n          <p className=\"text-gray-600\">Loading time entries…</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navigation />\n      <main className=\"max-w-5xl mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n        <div className=\"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Time Tracking</h1>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              Total hours:{' '}\n              <span className=\"font-semibold\">{totalHours.toFixed(2)}</span> · Labor cost:{' '}\n              <span className=\"font-semibold\">${totalLaborCost.toFixed(2)}</span>\n            </p>\n          </div>\n          <Link href=\"/jobs\" className=\"text-sm text-blue-600 hover:text-blue-700 font-semibold\">\n            ← Back to Jobs\n          </Link>\n        </div>\n\n        {rows.length === 0 ? (\n          <div className=\"bg-white rounded-lg shadow p-6 text-sm text-gray-500\">\n            No time entries yet. Add time from a Job Detail page.\n          </div>\n        ) : (\n          <div className=\"bg-white rounded-lg shadow overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead className=\"bg-gray-50 border-b\">\n                <tr>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Date</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Job</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Hours</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Rate</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Notes</th>\n                </tr>\n              </thead>\n              <tbody>\n                {rows.map((r, idx) => (\n                  <tr\n                    key={r.id}\n                    className={`border-t ${idx % 2 === 0 ? 'bg-white' : 'bg-gray-50/40'}`}\n                  >\n                    <td className=\"px-4 py-2\">\n                      {new Date(r.entry_date).toLocaleDateString()}\n                    </td>\n                    <td className=\"px-4 py-2\">\n                      {r.job_id ? (\n                        <Link\n                          href={`/jobs/${r.job_id}`}\n                          className=\"text-blue-600 hover:text-blue-700\"\n                        >\n                          {r.jobs?.name || '(Unknown job)'}\n                        </Link>\n                      ) : (\n                        '—'\n                      )}\n                    </td>\n                    <td className=\"px-4 py-2\">{r.hours.toFixed(2)}</td>\n                    <td className=\"px-4 py-2\">\n                      {r.hourly_rate !== null ? `$${r.hourly_rate.toFixed(2)}` : '—'}\n                    </td>\n                    <td className=\"px-4 py-2\">\n                      {r.notes ? <span className=\"line-clamp-2\">{r.notes}</span> : '—'}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}