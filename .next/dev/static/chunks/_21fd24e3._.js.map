{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/utils/supabase.ts"],"sourcesContent":["import { createClient as createSupabaseClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport function createClient() {\n  return createSupabaseClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n      storage: typeof window !== 'undefined' ? window.localStorage : undefined,\n      storageKey: 'expenses-made-easy-auth'\n    }\n  });\n}\n\nexport const supabase = createClient();\n"],"names":[],"mappings":";;;;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,SAAS;IACd,OAAO,IAAA,0MAAoB,EAAC,aAAa,iBAAiB;QACxD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;YACpB,SAAS,uCAAgC,OAAO,YAAY,GAAG;YAC/D,YAAY;QACd;IACF;AACF;AAEO,MAAM,WAAW"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/components/Navigation.tsx"],"sourcesContent":["import Link from 'next/link';\n\ntype Variant = 'expenses' | 'sitesense';\n\nexport default function Navigation({ variant = 'sitesense' }: { variant?: Variant }) {\n  const isExpense = variant === 'expenses';\n\n  return (\n    <nav className=\"bg-gradient-to-r from-slate-900 to-slate-800 text-slate-100 shadow\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between\">\n        {/* Brand */}\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-8 w-8 rounded-md bg-slate-700 flex items-center justify-center text-slate-50 text-sm font-bold border border-slate-600\">\n            {isExpense ? 'EM' : 'SS'}\n          </div>\n          <div className=\"flex flex-col leading-tight\">\n            <span className=\"text-sm font-semibold tracking-tight\">\n              {isExpense ? 'Expenses Made Easy' : 'SiteSense'}\n            </span>\n            <span className=\"text-[11px] text-slate-300\">\n              {isExpense ? 'Expenses · Budgets · Receipts' : 'Jobs · Time · Costs'}\n            </span>\n          </div>\n        </div>\n\n        {/* Main nav */}\n        <div className=\"hidden md:flex items-center gap-6 text-sm font-medium\">\n          {isExpense ? (\n            <>\n              <Link href=\"/expenses/dashboard\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Dashboard\n              </Link>\n              <Link href=\"/expenses\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Expenses\n              </Link>\n              <Link href=\"/budgets\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Budgets\n              </Link>\n              <Link href=\"/receipts\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Receipts\n              </Link>\n              <Link href=\"/settings\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Settings\n              </Link>\n            </>\n          ) : (\n            <>\n              <Link href=\"/expense-dashboard\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Dashboard\n              </Link>\n              <Link href=\"/jobs\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Jobs\n              </Link>\n              <Link href=\"/expenses\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Expenses\n              </Link>\n              <Link href=\"/time-tracking\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Time\n              </Link>\n              <Link href=\"/settings\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Settings\n              </Link>\n            </>\n          )}\n        </div>\n\n        {/* Right side: placeholder for user stuff */}\n        <div className=\"flex items-center gap-3\">\n          <span className=\"hidden sm:inline text-[11px] text-slate-300\">\n            {isExpense ? 'Track smarter. Save more.' : 'Built for contractors'}\n          </span>\n          <div className=\"h-8 w-8 rounded-full bg-slate-700/60 border border-slate-600 flex items-center justify-center text-[10px] font-semibold text-slate-200\">\n            ME\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAIe,SAAS,WAAW,EAAE,UAAU,WAAW,EAAyB;IACjF,MAAM,YAAY,YAAY;IAE9B,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACZ,YAAY,OAAO;;;;;;sCAEtB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAU;8CACb,YAAY,uBAAuB;;;;;;8CAEtC,6LAAC;oCAAK,WAAU;8CACb,YAAY,kCAAkC;;;;;;;;;;;;;;;;;;8BAMrD,6LAAC;oBAAI,WAAU;8BACZ,0BACC;;0CACE,6LAAC,0KAAI;gCAAC,MAAK;gCAAsB,WAAU;0CAAuD;;;;;;0CAGlG,6LAAC,0KAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,6LAAC,0KAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAuD;;;;;;0CAGvF,6LAAC,0KAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,6LAAC,0KAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;;qDAK1F;;0CACE,6LAAC,0KAAI;gCAAC,MAAK;gCAAqB,WAAU;0CAAuD;;;;;;0CAGjG,6LAAC,0KAAI;gCAAC,MAAK;gCAAQ,WAAU;0CAAuD;;;;;;0CAGpF,6LAAC,0KAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,6LAAC,0KAAI;gCAAC,MAAK;gCAAiB,WAAU;0CAAuD;;;;;;0CAG7F,6LAAC,0KAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;;;;;;;;8BAQ9F,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAK,WAAU;sCACb,YAAY,8BAA8B;;;;;;sCAE7C,6LAAC;4BAAI,WAAU;sCAAyI;;;;;;;;;;;;;;;;;;;;;;;AAOlK;KA1EwB"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/app/time-tracking/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { supabase } from '@/utils/supabase';\nimport Navigation from '@/components/Navigation';\n\ntype TimeRow = {\n  id: string;\n  entry_date: string;\n  hours: number;\n  hourly_rate: number | null;\n  notes: string | null;\n  job_id: string | null;\n  jobs: { name: string } | null;\n};\n\nexport default function TimeTrackingPage() {\n  const [rows, setRows] = useState<TimeRow[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    void loadTime();\n  }, []);\n\n  async function loadTime() {\n    setLoading(true);\n    try {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n\n      if (!user) {\n        setRows([]);\n        setLoading(false);\n        return;\n      }\n\n      const { data, error } = await supabase\n        .from('time_entries')\n        .select('id, entry_date, hours, hourly_rate, notes, job_id, jobs(name)')\n        .eq('user_id', user.id)\n        .order('entry_date', { ascending: false });\n\n      if (error) throw error;\n\n      setRows(\n        (data || []).map((t: any) => ({\n          ...t,\n          hours: Number(t.hours),\n          hourly_rate: t.hourly_rate !== null ? Number(t.hourly_rate) : null,\n        }))\n      );\n    } catch (err) {\n      console.error('Error loading time entries:', err);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const totalHours = rows.reduce((s, r) => s + r.hours, 0);\n  const totalLaborCost = rows.reduce((s, r) => {\n    if (!r.hourly_rate) return s;\n    return s + r.hours * r.hourly_rate;\n  }, 0);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navigation variant=\"sitesense\" />\n        <div className=\"flex items-center justify-center py-24\">\n          <p className=\"text-gray-600\">Loading time entries…</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navigation variant=\"sitesense\" />\n      <main className=\"max-w-5xl mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n        <div className=\"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Time Tracking</h1>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              Total hours:{' '}\n              <span className=\"font-semibold\">{totalHours.toFixed(2)}</span> · Labor cost:{' '}\n              <span className=\"font-semibold\">${totalLaborCost.toFixed(2)}</span>\n            </p>\n          </div>\n          <Link href=\"/jobs\" className=\"text-sm text-blue-600 hover:text-blue-700 font-semibold\">\n            ← Back to Jobs\n          </Link>\n        </div>\n\n        {rows.length === 0 ? (\n          <div className=\"bg-white rounded-lg shadow p-6 text-sm text-gray-500\">\n            No time entries yet. Add time from a Job Detail page.\n          </div>\n        ) : (\n          <div className=\"bg-white rounded-lg shadow overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead className=\"bg-gray-50 border-b\">\n                <tr>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Date</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Job</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Hours</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Rate</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Notes</th>\n                </tr>\n              </thead>\n              <tbody>\n                {rows.map((r, idx) => (\n                  <tr\n                    key={r.id}\n                    className={`border-t ${idx % 2 === 0 ? 'bg-white' : 'bg-gray-50/40'}`}\n                  >\n                    <td className=\"px-4 py-2\">\n                      {new Date(r.entry_date).toLocaleDateString()}\n                    </td>\n                    <td className=\"px-4 py-2\">\n                      {r.job_id ? (\n                        <Link\n                          href={`/jobs/${r.job_id}`}\n                          className=\"text-blue-600 hover:text-blue-700\"\n                        >\n                          {r.jobs?.name || '(Unknown job)'}\n                        </Link>\n                      ) : (\n                        '—'\n                      )}\n                    </td>\n                    <td className=\"px-4 py-2\">{r.hours.toFixed(2)}</td>\n                    <td className=\"px-4 py-2\">\n                      {r.hourly_rate !== null ? `$${r.hourly_rate.toFixed(2)}` : '—'}\n                    </td>\n                    <td className=\"px-4 py-2\">\n                      {r.notes ? <span className=\"line-clamp-2\">{r.notes}</span> : '—'}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}