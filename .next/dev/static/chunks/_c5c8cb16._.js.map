{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/utils/supabase.ts"],"sourcesContent":["import { createClient as createSupabaseClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport function createClient() {\n  return createSupabaseClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n      storage: typeof window !== 'undefined' ? window.localStorage : undefined,\n      storageKey: 'expenses-made-easy-auth'\n    }\n  });\n}\n\nexport const supabase = createClient();\n"],"names":[],"mappings":";;;;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,SAAS;IACd,OAAO,IAAA,0MAAoB,EAAC,aAAa,iBAAiB;QACxD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;YACpB,SAAS,uCAAgC,OAAO,YAAY,GAAG;YAC/D,YAAY;QACd;IACF;AACF;AAEO,MAAM,WAAW"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/utils/subscription.ts"],"sourcesContent":["import { supabase } from '@/utils/supabase';\n\nexport interface SubscriptionInfo {\n  plan: 'free' | 'premium' | 'pro';\n  status: 'inactive' | 'active' | 'trialing' | 'past_due' | 'canceled';\n  isPaidUser: boolean;\n  isPremium: boolean;\n  isPro: boolean;\n  expenseCount: number;\n  expenseLimit: number;\n}\n\nexport async function getSubscription(userId: string): Promise<SubscriptionInfo> {\n  const { data: profile } = await supabase\n    .from('user_profiles')\n    .select('subscription_plan, subscription_status')\n    .eq('user_id', userId)\n    .single();\n\n  const plan = (profile?.subscription_plan || 'free') as 'free' | 'premium' | 'pro';\n  const status = (profile?.subscription_status || 'inactive') as SubscriptionInfo['status'];\n  const isPaidUser = status === 'active' || status === 'trialing';\n\n  // Get current month expense count for free users\n  let expenseCount = 0;\n  if (!isPaidUser) {\n    const startOfMonth = new Date();\n    startOfMonth.setDate(1);\n    startOfMonth.setHours(0, 0, 0, 0);\n\n    const { count } = await supabase\n      .from('expenses')\n      .select('*', { count: 'exact', head: true })\n      .eq('user_id', userId)\n      .gte('date', startOfMonth.toISOString().split('T')[0]);\n\n    expenseCount = count || 0;\n  }\n\n  return {\n    plan,\n    status,\n    isPaidUser,\n    isPremium: plan === 'premium' && isPaidUser,\n    isPro: plan === 'pro' && isPaidUser,\n    expenseCount,\n    expenseLimit: isPaidUser ? Infinity : 50,\n  };\n}\n\nexport async function canAddExpense(userId: string): Promise<{ allowed: boolean; message?: string; remaining?: number }> {\n  const subscription = await getSubscription(userId);\n\n  if (subscription.isPaidUser) {\n    return { allowed: true };\n  }\n\n  const remaining = subscription.expenseLimit - subscription.expenseCount;\n\n  if (remaining <= 0) {\n    return {\n      allowed: false,\n      message: \"You've reached your limit of 50 expenses this month. Upgrade to Premium for unlimited!\",\n      remaining: 0,\n    };\n  }\n\n  return {\n    allowed: true,\n    remaining,\n  };\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAYO,eAAe,gBAAgB,MAAc;IAClD,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,gIAAQ,CACrC,IAAI,CAAC,iBACL,MAAM,CAAC,0CACP,EAAE,CAAC,WAAW,QACd,MAAM;IAET,MAAM,OAAQ,SAAS,qBAAqB;IAC5C,MAAM,SAAU,SAAS,uBAAuB;IAChD,MAAM,aAAa,WAAW,YAAY,WAAW;IAErD,iDAAiD;IACjD,IAAI,eAAe;IACnB,IAAI,CAAC,YAAY;QACf,MAAM,eAAe,IAAI;QACzB,aAAa,OAAO,CAAC;QACrB,aAAa,QAAQ,CAAC,GAAG,GAAG,GAAG;QAE/B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,gIAAQ,CAC7B,IAAI,CAAC,YACL,MAAM,CAAC,KAAK;YAAE,OAAO;YAAS,MAAM;QAAK,GACzC,EAAE,CAAC,WAAW,QACd,GAAG,CAAC,QAAQ,aAAa,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QAEvD,eAAe,SAAS;IAC1B;IAEA,OAAO;QACL;QACA;QACA;QACA,WAAW,SAAS,aAAa;QACjC,OAAO,SAAS,SAAS;QACzB;QACA,cAAc,aAAa,WAAW;IACxC;AACF;AAEO,eAAe,cAAc,MAAc;IAChD,MAAM,eAAe,MAAM,gBAAgB;IAE3C,IAAI,aAAa,UAAU,EAAE;QAC3B,OAAO;YAAE,SAAS;QAAK;IACzB;IAEA,MAAM,YAAY,aAAa,YAAY,GAAG,aAAa,YAAY;IAEvE,IAAI,aAAa,GAAG;QAClB,OAAO;YACL,SAAS;YACT,SAAS;YACT,WAAW;QACb;IACF;IAEA,OAAO;QACL,SAAS;QACT;IACF;AACF"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/app/expenses/new/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { supabase } from '@/utils/supabase';\nimport { canAddExpense } from '@/utils/subscription';\n\ninterface Category {\n  id: string;\n  name: string;\n  color: string;\n  icon: string;\n  deduction_percentage?: number;\n  schedule_c_line?: string;\n  tax_classification_type?: string;\n}\n\ninterface Job {\n  id: string;\n  name: string;\n}\n\nexport default function NewExpensePage() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [loadingCategories, setLoadingCategories] = useState(true);\n  const [scanningReceipt, setScanningReceipt] = useState(false);\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [jobs, setJobs] = useState<Job[]>([]);\n  const [receiptFile, setReceiptFile] = useState<File | null>(null);\n  const [ocrData, setOcrData] = useState<any>(null);\n  const [subscriptionLimit, setSubscriptionLimit] = useState<{ allowed: boolean; message?: string; remaining?: number } | null>(null);\n  const [formData, setFormData] = useState({\n    amount: '',\n    description: '',\n    category_id: '',\n    date: new Date().toISOString().split('T')[0],\n    vendor: '',\n    payment_method: 'credit',\n    is_business: true,\n    notes: '',\n    job_id: '', // NEW\n  });\n\n  useEffect(() => {\n    loadCategories();\n    loadJobs();\n    checkSubscriptionLimit();\n  }, []);\n\n  async function checkSubscriptionLimit() {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (user) {\n      const result = await canAddExpense(user.id);\n      setSubscriptionLimit(result);\n    }\n  }\n\n  async function loadJobs() {\n    try {\n      const { data, error } = await supabase\n        .from('jobs')\n        .select('id, name')\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      setJobs(data || []);\n    } catch (err) {\n      console.error('Error loading jobs:', err);\n    }\n  }\n\n  async function compressImage(file: File): Promise<File> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (event) => {\n        const img = new Image();\n        img.src = event.target?.result as string;\n        img.onload = () => {\n          const canvas = document.createElement('canvas');\n          const MAX_WIDTH = 1920;\n          const MAX_HEIGHT = 1920;\n          let width = img.width;\n          let height = img.height;\n\n          if (width > height) {\n            if (width > MAX_WIDTH) {\n              height *= MAX_WIDTH / width;\n              width = MAX_WIDTH;\n            }\n          } else {\n            if (height > MAX_HEIGHT) {\n              width *= MAX_HEIGHT / height;\n              height = MAX_HEIGHT;\n            }\n          }\n\n          canvas.width = width;\n          canvas.height = height;\n          const ctx = canvas.getContext('2d');\n          ctx?.drawImage(img, 0, 0, width, height);\n\n          canvas.toBlob(\n            (blob) => {\n              if (blob) {\n                const compressedFile = new File([blob], file.name, {\n                  type: 'image/jpeg',\n                  lastModified: Date.now(),\n                });\n                resolve(compressedFile);\n              } else {\n                reject(new Error('Failed to compress image'));\n              }\n            },\n            'image/jpeg',\n            0.8\n          );\n        };\n        img.onerror = () => reject(new Error('Failed to load image'));\n      };\n      reader.onerror = () => reject(new Error('Failed to read file'));\n    });\n  }\n\n  async function loadCategories() {\n    setLoadingCategories(true);\n    try {\n      // Use API endpoint to bypass RLS\n      const response = await fetch('/api/categories');\n      const result = await response.json();\n\n      if (result.success && result.data && result.data.length > 0) {\n        // Just use what exists - don't auto-create defaults anymore\n        setCategories(result.data);\n      }\n      // If no categories, user should create them via Profile page\n    } catch (error) {\n      console.error('Error loading categories:', error);\n    } finally {\n      setLoadingCategories(false);\n    }\n  }\n\n  async function createDefaultCategories() {\n    const defaultCategories = [\n      { name: 'Meals & Entertainment', color: '#EF4444', icon: 'üçΩÔ∏è', is_tax_deductible: true },\n      { name: 'Travel', color: '#3B82F6', icon: '‚úàÔ∏è', is_tax_deductible: true },\n      { name: 'Office Supplies', color: '#8B5CF6', icon: 'üìé', is_tax_deductible: true },\n      { name: 'Vehicle', color: '#10B981', icon: 'üöó', is_tax_deductible: true },\n      { name: 'Utilities', color: '#F59E0B', icon: 'üí°', is_tax_deductible: true },\n      { name: 'Marketing', color: '#EC4899', icon: 'üì¢', is_tax_deductible: true },\n      { name: 'Professional Services', color: '#6366F1', icon: 'üëî', is_tax_deductible: true },\n      { name: 'Insurance', color: '#14B8A6', icon: 'üõ°Ô∏è', is_tax_deductible: true },\n      { name: 'Rent', color: '#F97316', icon: 'üè¢', is_tax_deductible: true },\n      { name: 'Personal', color: '#64748B', icon: 'üë§', is_tax_deductible: false },\n    ];\n\n    try {\n      const response = await fetch('/api/categories', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ categories: defaultCategories }),\n      });\n      const result = await response.json();\n      if (!result.success) {\n        console.error('Error creating default categories:', result.error);\n      }\n    } catch (error) {\n      console.error('Error creating default categories:', error);\n    }\n  }\n\n  async function handleScanReceipt() {\n    if (!receiptFile) return;\n\n    setScanningReceipt(true);\n    try {\n      // Compress image if it's too large\n      let fileToSend = receiptFile;\n      const maxSize = 4 * 1024 * 1024; // 4MB limit for Vercel\n\n      if (receiptFile.size > maxSize) {\n        fileToSend = await compressImage(receiptFile);\n      }\n\n      const formDataForOCR = new FormData();\n      formDataForOCR.append('receipt', fileToSend);\n\n      const response = await fetch('/api/ocr-receipt', {\n        method: 'POST',\n        body: formDataForOCR,\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || 'Failed to scan receipt');\n      }\n\n      if (result.success && result.data) {\n        setOcrData(result.data);\n\n        // Auto-fill form fields with OCR data\n        setFormData((prev) => ({\n          ...prev,\n          amount: result.data.amount || prev.amount,\n          vendor: result.data.vendor || prev.vendor,\n          date: result.data.date || prev.date,\n          description: result.data.description || prev.description,\n          payment_method: result.data.payment_method || prev.payment_method,\n          notes: result.data.items ? `Items: ${result.data.items.join(', ')}` : prev.notes,\n        }));\n\n        alert('‚úÖ Receipt scanned successfully! Review the auto-filled information.');\n      }\n    } catch (error: any) {\n      alert('‚ùå Failed to scan receipt: ' + (error.message || 'Unknown error'));\n    } finally {\n      setScanningReceipt(false);\n    }\n  }\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        alert('Please sign in');\n        return;\n      }\n\n      // Check subscription limit before adding\n      const limitCheck = await canAddExpense(user.id);\n      if (!limitCheck.allowed) {\n        alert(limitCheck.message || 'You have reached your expense limit. Please upgrade to continue.');\n        setLoading(false);\n        return;\n      }\n\n      let receipt_url = null;\n      if (receiptFile) {\n        const fileExt = receiptFile.name.split('.').pop();\n        const fileName = `${user.id}/${Date.now()}.${fileExt}`;\n        const { error: uploadError } = await supabase.storage.from('receipts').upload(fileName, receiptFile);\n        if (!uploadError) {\n          const { data: { publicUrl } } = supabase.storage.from('receipts').getPublicUrl(fileName);\n          receipt_url = publicUrl;\n        }\n      }\n\n      const { error } = await supabase.from('expenses').insert({\n        ...formData,\n        amount: parseFloat(formData.amount),\n        job_id: formData.job_id || null, // explicit, though formData already has it\n        receipt_url,\n        user_id: user.id,\n      });\n\n      if (error) throw error;\n      router.push('/expense-dashboard');\n    } catch (error: any) {\n      alert(error.message || 'Failed to add expense');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-3xl mx-auto px-4\">\n        {/* Subscription Limit Warning */}\n        {subscriptionLimit && !subscriptionLimit.allowed && (\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\n            <div className=\"flex items-start gap-3\">\n              <span className=\"text-2xl\">‚ö†Ô∏è</span>\n              <div>\n                <h3 className=\"font-semibold text-red-800\">Expense Limit Reached</h3>\n                <p className=\"text-sm text-red-700 mt-1\">{subscriptionLimit.message}</p>\n                <Link\n                  href=\"/pricing\"\n                  className=\"inline-block mt-3 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-semibold hover:bg-red-700 transition\"\n                >\n                  Upgrade to Premium\n                </Link>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {subscriptionLimit && subscriptionLimit.allowed && subscriptionLimit.remaining !== undefined && subscriptionLimit.remaining <= 10 && (\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\n            <div className=\"flex items-start gap-3\">\n              <span className=\"text-2xl\">üí°</span>\n              <div>\n                <h3 className=\"font-semibold text-yellow-800\">Running Low on Free Expenses</h3>\n                <p className=\"text-sm text-yellow-700 mt-1\">\n                  You have {subscriptionLimit.remaining} expense{subscriptionLimit.remaining !== 1 ? 's' : ''} remaining this month on the free plan.\n                </p>\n                <Link\n                  href=\"/pricing\"\n                  className=\"inline-block mt-2 text-sm text-yellow-800 font-semibold hover:text-yellow-900 underline\"\n                >\n                  Upgrade for unlimited expenses ‚Üí\n                </Link>\n              </div>\n            </div>\n          </div>\n        )}\n        <div className=\"mb-6\">\n          <Link href=\"/expense-dashboard\" className=\"text-blue-600 hover:text-blue-700\">‚Üê Back to Dashboard</Link>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h1 className=\"text-3xl font-bold mb-6\">Add New Expense</h1>\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Amount *</label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-2.5\">$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  required\n                  value={formData.amount}\n                  onChange={(e) => setFormData({ ...formData, amount: e.target.value })}\n                  className=\"w-full pl-8 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"0.00\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Description *</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"What was this expense for?\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Category *</label>\n              <select\n                required\n                value={formData.category_id}\n                onChange={(e) => setFormData({ ...formData, category_id: e.target.value })}\n                disabled={loadingCategories}\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n              >\n                <option value=\"\">{loadingCategories ? 'Loading categories...' : 'Select a category'}</option>\n                {categories.map((cat) => (\n                  <option key={cat.id} value={cat.id}>{cat.icon} {cat.name}</option>\n                ))}\n              </select>\n              {loadingCategories && (\n                <p className=\"text-xs text-blue-600 mt-1\">‚ú® Setting up your categories for the first time...</p>\n              )}\n\n              {/* Tax Information Display */}\n              {formData.category_id && (() => {\n                const selectedCategory = categories.find(c => c.id === formData.category_id);\n                if (!selectedCategory) return null;\n\n                const amount = parseFloat(formData.amount) || 0;\n                const deductionPercentage = selectedCategory.deduction_percentage || 0;\n                const deductibleAmount = (amount * deductionPercentage / 100).toFixed(2);\n\n                return (\n                  <div className=\"mt-3 p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg\">\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"flex-shrink-0 mt-0.5\">\n                        <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                        </svg>\n                      </div>\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm font-semibold text-gray-900 mb-1\">Tax Information</p>\n\n                        <div className=\"space-y-1\">\n                          {deductionPercentage === 100 && (\n                            <div className=\"flex items-center gap-2\">\n                              <span className=\"px-2 py-0.5 bg-green-100 text-green-800 text-xs rounded-full font-medium\">\n                                100% Tax Deductible\n                              </span>\n                              {amount > 0 && (\n                                <span className=\"text-sm text-gray-700\">\n                                  Deductible: <strong className=\"text-green-700\">${deductibleAmount}</strong>\n                                </span>\n                              )}\n                            </div>\n                          )}\n\n                          {deductionPercentage === 50 && (\n                            <div className=\"flex items-center gap-2\">\n                              <span className=\"px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs rounded-full font-medium\">\n                                50% Tax Deductible\n                              </span>\n                              {amount > 0 && (\n                                <span className=\"text-sm text-gray-700\">\n                                  Deductible: <strong className=\"text-yellow-700\">${deductibleAmount}</strong> of ${amount.toFixed(2)}\n                                </span>\n                              )}\n                            </div>\n                          )}\n\n                          {deductionPercentage === 0 && (\n                            <div>\n                              <span className=\"px-2 py-0.5 bg-gray-100 text-gray-800 text-xs rounded-full font-medium\">\n                                Not Tax Deductible\n                              </span>\n                              <p className=\"text-xs text-gray-600 mt-1\">Personal expenses are not deductible</p>\n                            </div>\n                          )}\n\n                          {deductionPercentage > 0 && deductionPercentage < 100 && deductionPercentage !== 50 && (\n                            <div className=\"flex items-center gap-2\">\n                              <span className=\"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full font-medium\">\n                                {deductionPercentage}% Tax Deductible\n                              </span>\n                              {amount > 0 && (\n                                <span className=\"text-sm text-gray-700\">\n                                  Deductible: <strong className=\"text-blue-700\">${deductibleAmount}</strong>\n                                </span>\n                              )}\n                            </div>\n                          )}\n\n                          {selectedCategory.schedule_c_line && (\n                            <div className=\"flex items-center gap-2 mt-1\">\n                              <svg className=\"w-4 h-4 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                              </svg>\n                              <span className=\"text-xs text-purple-700 font-medium\">\n                                Schedule C Line {selectedCategory.schedule_c_line}\n                              </span>\n                            </div>\n                          )}\n                        </div>\n\n                        {deductionPercentage === 50 && (\n                          <p className=\"text-xs text-gray-600 mt-2 italic\">\n                            üí° IRS limits business meals to 50% deduction\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })()}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Date *</label>\n              <input\n                type=\"date\"\n                required\n                value={formData.date}\n                onChange={(e) => setFormData({ ...formData, date: e.target.value })}\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Vendor</label>\n              <input\n                type=\"text\"\n                value={formData.vendor}\n                onChange={(e) => setFormData({ ...formData, vendor: e.target.value })}\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Where did you make this purchase?\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Payment Method</label>\n              <select\n                value={formData.payment_method}\n                onChange={(e) => setFormData({ ...formData, payment_method: e.target.value })}\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"credit\">Credit Card</option>\n                <option value=\"debit\">Debit Card</option>\n                <option value=\"cash\">Cash</option>\n                <option value=\"bank_transfer\">Bank Transfer</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"flex items-center gap-3\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.is_business}\n                  onChange={(e) => setFormData({ ...formData, is_business: e.target.checked })}\n                  className=\"w-5 h-5 text-blue-600 rounded\"\n                />\n                <span className=\"text-sm font-medium\">This is a business expense</span>\n              </label>\n            </div>\n\n            {/* NEW: Job selection */}\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Job (optional)</label>\n              <select\n                value={formData.job_id}\n                onChange={(e) => setFormData({ ...formData, job_id: e.target.value })}\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">No job / general expense</option>\n                {jobs.map((job) => (\n                  <option key={job.id} value={job.id}>\n                    {job.name}\n                  </option>\n                ))}\n              </select>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Link this expense to a specific job if it‚Äôs part of a project. Leave blank for general overhead.\n              </p>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">üì∏ Receipt Photo (Optional)</label>\n              <div className=\"space-y-2\">\n                <input\n                  type=\"file\"\n                  accept=\"image/*,.pdf\"\n                  capture=\"environment\"\n                  onChange={(e) => {\n                    setReceiptFile(e.target.files?.[0] || null);\n                    setOcrData(null); // Reset OCR data when new file is selected\n                  }}\n                  className=\"w-full px-4 py-2 border rounded-lg file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                />\n                {receiptFile && (\n                  <div className=\"mt-2 space-y-2\">\n                    <div className=\"p-3 bg-green-50 border border-green-200 rounded-lg\">\n                      <div className=\"flex justify-between items-start\">\n                        <div className=\"flex-1\">\n                          <p className=\"text-sm text-green-800 font-medium\">‚úì Receipt attached: {receiptFile.name}</p>\n                          {ocrData && (\n                            <p className=\"text-xs text-green-600 mt-1\">‚ú® Scanned - data filled automatically</p>\n                          )}\n                        </div>\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setReceiptFile(null);\n                            setOcrData(null);\n                          }}\n                          className=\"text-xs text-red-600 hover:text-red-700 ml-2\"\n                        >\n                          Remove\n                        </button>\n                      </div>\n                    </div>\n\n                    {/* Tax Breakdown from OCR */}\n                    {ocrData && (ocrData.subtotal || ocrData.tax_amount) && (\n                      <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                        <h4 className=\"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2\">\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z\" />\n                          </svg>\n                          Receipt Breakdown\n                        </h4>\n                        <div className=\"space-y-2 text-sm\">\n                          {ocrData.subtotal && (\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-gray-600\">Subtotal:</span>\n                              <span className=\"font-medium\">${Number(ocrData.subtotal).toFixed(2)}</span>\n                            </div>\n                          )}\n                          {ocrData.tax_amount !== null && ocrData.tax_amount !== undefined && (\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-gray-600\">\n                                Tax{ocrData.tax_rate ? ` (${ocrData.tax_rate}%)` : ''}:\n                              </span>\n                              <span className=\"font-medium text-orange-600\">\n                                ${Number(ocrData.tax_amount).toFixed(2)}\n                              </span>\n                            </div>\n                          )}\n                          <div className=\"flex justify-between pt-2 border-t border-blue-200\">\n                            <span className=\"font-semibold text-gray-900\">Total:</span>\n                            <span className=\"font-bold text-blue-600\">${Number(ocrData.amount).toFixed(2)}</span>\n                          </div>\n                          {ocrData.payment_method && (\n                            <div className=\"flex justify-between pt-2 text-xs text-gray-500\">\n                              <span>Payment Method:</span>\n                              <span className=\"capitalize\">{ocrData.payment_method}</span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    )}\n                    {!ocrData && (\n                      <button\n                        type=\"button\"\n                        onClick={handleScanReceipt}\n                        disabled={scanningReceipt}\n                        className=\"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold flex items-center justify-center gap-2\"\n                      >\n                        {scanningReceipt ? (\n                          <>\n                            <svg className=\"animate-spin h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                            </svg>\n                            Scanning Receipt with AI...\n                          </>\n                        ) : (\n                          <>\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                            </svg>\n                            ü§ñ Scan Receipt with AI\n                          </>\n                        )}\n                      </button>\n                    )}\n                  </div>\n                )}\n                <p className=\"text-xs text-gray-500\">\n                  üí° Tip: Take a photo with your phone camera, then click \"Scan Receipt with AI\" to automatically extract amount, vendor, and date!\n                </p>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Notes</label>\n              <textarea\n                value={formData.notes}\n                onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n                rows={3}\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Additional details...\"\n              />\n            </div>\n\n            <div className=\"flex gap-4\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50\"\n              >\n                {loading ? 'Adding...' : 'Add Expense'}\n              </button>\n              <Link\n                href=\"/expense-dashboard\"\n                className=\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 text-center\"\n              >\n                Cancel\n              </Link>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}