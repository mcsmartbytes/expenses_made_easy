{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/components/Navigation.tsx"],"sourcesContent":["import Link from 'next/link';\n\ntype Variant = 'expenses' | 'sitesense';\n\nexport default function Navigation({ variant = 'sitesense' }: { variant?: Variant }) {\n  const isExpense = variant === 'expenses';\n\n  return (\n    <nav className=\"bg-gradient-to-r from-slate-900 to-slate-800 text-slate-100 shadow\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between\">\n        {/* Brand */}\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-8 w-8 rounded-md bg-slate-700 flex items-center justify-center text-slate-50 text-sm font-bold border border-slate-600\">\n            {isExpense ? 'EM' : 'SS'}\n          </div>\n          <div className=\"flex flex-col leading-tight\">\n            <span className=\"text-sm font-semibold tracking-tight\">\n              {isExpense ? 'Expenses Made Easy' : 'SiteSense'}\n            </span>\n            <span className=\"text-[11px] text-slate-300\">\n              {isExpense ? 'Expenses · Budgets · Receipts' : 'Jobs · Time · Costs'}\n            </span>\n          </div>\n        </div>\n\n        {/* Main nav */}\n        <div className=\"hidden md:flex items-center gap-6 text-sm font-medium\">\n          {isExpense ? (\n            <>\n              <Link href=\"/expenses/dashboard\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Dashboard\n              </Link>\n              <Link href=\"/expenses\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Expenses\n              </Link>\n              <Link href=\"/budgets\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Budgets\n              </Link>\n              <Link href=\"/receipts\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Receipts\n              </Link>\n              <Link href=\"/settings\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Settings\n              </Link>\n            </>\n          ) : (\n            <>\n              <Link href=\"/expense-dashboard\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Dashboard\n              </Link>\n              <Link href=\"/jobs\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Jobs\n              </Link>\n              <Link href=\"/expenses\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Expenses\n              </Link>\n              <Link href=\"/time-tracking\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Time\n              </Link>\n              <Link href=\"/settings\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Settings\n              </Link>\n            </>\n          )}\n        </div>\n\n        {/* Right side: placeholder for user stuff */}\n        <div className=\"flex items-center gap-3\">\n          <span className=\"hidden sm:inline text-[11px] text-slate-300\">\n            {isExpense ? 'Track smarter. Save more.' : 'Built for contractors'}\n          </span>\n          <div className=\"h-8 w-8 rounded-full bg-slate-700/60 border border-slate-600 flex items-center justify-center text-[10px] font-semibold text-slate-200\">\n            ME\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAIe,SAAS,WAAW,EAAE,UAAU,WAAW,EAAyB;IACjF,MAAM,YAAY,YAAY;IAE9B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACZ,YAAY,OAAO;;;;;;sCAEtB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CACb,YAAY,uBAAuB;;;;;;8CAEtC,8OAAC;oCAAK,WAAU;8CACb,YAAY,kCAAkC;;;;;;;;;;;;;;;;;;8BAMrD,8OAAC;oBAAI,WAAU;8BACZ,0BACC;;0CACE,8OAAC,uKAAI;gCAAC,MAAK;gCAAsB,WAAU;0CAAuD;;;;;;0CAGlG,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,8OAAC,uKAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAuD;;;;;;0CAGvF,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;;qDAK1F;;0CACE,8OAAC,uKAAI;gCAAC,MAAK;gCAAqB,WAAU;0CAAuD;;;;;;0CAGjG,8OAAC,uKAAI;gCAAC,MAAK;gCAAQ,WAAU;0CAAuD;;;;;;0CAGpF,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,8OAAC,uKAAI;gCAAC,MAAK;gCAAiB,WAAU;0CAAuD;;;;;;0CAG7F,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;;;;;;;;8BAQ9F,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAU;sCACb,YAAY,8BAA8B;;;;;;sCAE7C,8OAAC;4BAAI,WAAU;sCAAyI;;;;;;;;;;;;;;;;;;;;;;;AAOlK"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/utils/supabase.ts"],"sourcesContent":["import { createClient as createSupabaseClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport function createClient() {\n  return createSupabaseClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n      storage: typeof window !== 'undefined' ? window.localStorage : undefined,\n      storageKey: 'expenses-made-easy-auth'\n    }\n  });\n}\n\nexport const supabase = createClient();\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,SAAS;IACd,OAAO,IAAA,uMAAoB,EAAC,aAAa,iBAAiB;QACxD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;YACpB,SAAS,sCAAgC,0BAAsB;YAC/D,YAAY;QACd;IACF;AACF;AAEO,MAAM,WAAW"}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/app/%28expenses%29/settings/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Navigation from '@/components/Navigation';\nimport { supabase } from '@/utils/supabase';\n\nexport default function SettingsPage() {\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [message, setMessage] = useState('');\n  const [mileageAutoStartSpeed, setMileageAutoStartSpeed] = useState(5);\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [primaryColor, setPrimaryColor] = useState('#3B82F6');\n\n  useEffect(() => { loadSettings(); }, []);\n\n  async function loadSettings() {\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) return;\n      const { data } = await supabase.from('user_profiles').select('preferences').eq('user_id', user.id).single();\n      if (data?.preferences?.mileage_auto_start_speed) setMileageAutoStartSpeed(data.preferences.mileage_auto_start_speed);\n      if (data?.preferences?.theme) setTheme(data.preferences.theme);\n      if (data?.preferences?.primary_color) setPrimaryColor(data.preferences.primary_color);\n    } catch (error) {\n      console.error('Error loading settings:', error);\n    } finally { setLoading(false); }\n  }\n\n  async function handleSave() {\n    setSaving(true); setMessage('');\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) return;\n      const { data: existingProfile } = await supabase.from('user_profiles').select('id, preferences').eq('user_id', user.id).single();\n      const updatedPreferences = { ...(existingProfile?.preferences || {}), mileage_auto_start_speed: mileageAutoStartSpeed, theme, primary_color: primaryColor };\n      if (existingProfile) {\n        const { error } = await supabase.from('user_profiles').update({ preferences: updatedPreferences }).eq('user_id', user.id);\n        if (error) throw error;\n      } else {\n        const { error } = await supabase.from('user_profiles').insert({ user_id: user.id, preferences: updatedPreferences });\n        if (error) throw error;\n      }\n      setMessage('Settings saved successfully!'); setTimeout(() => setMessage(''), 3000);\n    } catch (error) {\n      console.error('Error saving settings:', error);\n      setMessage('Error saving settings. Please try again.');\n    } finally { setSaving(false); }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navigation variant=\"expenses\" />\n        <main className=\"max-w-3xl mx-auto px-4 py-8\"><p className=\"text-center text-gray-500\">Loading settings...</p></main>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navigation variant=\"expenses\" />\n      <main className=\"max-w-3xl mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n        <div className=\"mb-6\"><h1 className=\"text-3xl font-bold text-gray-900\">Settings</h1><p className=\"text-gray-600 mt-2\">Customize your app preferences</p></div>\n\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Mileage Tracker Settings</h2>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Auto-Start Speed Threshold</label>\n              <p className=\"text-sm text-gray-600 mb-3\">Mileage tracking will automatically start when your vehicle reaches this speed.</p>\n              <div className=\"flex items-center gap-4\">\n                <input type=\"range\" min=\"5\" max=\"10\" step=\"1\" value={mileageAutoStartSpeed} onChange={(e) => setMileageAutoStartSpeed(parseInt(e.target.value))} className=\"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\" />\n                <div className=\"flex items-center gap-2 min-w-[100px]\">\n                  <input type=\"number\" min=\"5\" max=\"10\" value={mileageAutoStartSpeed} onChange={(e) => { const val = parseInt(e.target.value); if (val >= 5 && val <= 10) setMileageAutoStartSpeed(val); }} className=\"w-16 px-3 py-2 border border-gray-300 rounded-lg text-center\" />\n                  <span className=\"text-gray-700 font-medium\">mph</span>\n                </div>\n              </div>\n              <div className=\"flex justify-between text-xs text-gray-500 mt-2 px-1\"><span>5 mph (More sensitive)</span><span>10 mph (Less sensitive)</span></div>\n            </div>\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\"><p className=\"text-sm text-blue-800\"><strong>Current setting: {mileageAutoStartSpeed} mph</strong></p><p className=\"text-xs text-blue-600 mt-1\">Lower values start tracking sooner (e.g., 5 mph). Higher values reduce false starts (e.g., 10 mph).</p></div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Appearance</h2>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Theme</label>\n              <div className=\"flex gap-4\">\n                <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"theme\" value=\"light\" checked={theme === 'light'} onChange={() => setTheme('light')} /><span>Light</span></label>\n                <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"theme\" value=\"dark\" checked={theme === 'dark'} onChange={() => setTheme('dark')} /><span>Dark</span></label>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Primary Color</label>\n              <div className=\"flex gap-2 flex-wrap\">\n                {['#3B82F6','#EF4444','#10B981','#8B5CF6','#F97316','#EC4899','#F59E0B','#14B8A6'].map((c) => (\n                  <button key={c} type=\"button\" onClick={() => setPrimaryColor(c)} className={`w-8 h-8 rounded-full border-2 ${primaryColor === c ? 'border-blue-600' : 'border-gray-300'}`} style={{ backgroundColor: c }} aria-label={`Select ${c}`} />\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-4\">\n          <button onClick={handleSave} disabled={saving} className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold disabled:opacity-50\">{saving ? 'Saving...' : 'Save Settings'}</button>\n          {message && (<p className={`text-sm font-medium ${message.includes('Error') ? 'text-red-600' : 'text-green-600'}`}>{message}</p>)}\n        </div>\n\n        <div className=\"mt-8\"><Link href=\"/mileage\" className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\">← Back to Mileage Tracker</Link></div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}