{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/utils/supabase.ts"],"sourcesContent":["import { createClient as createSupabaseClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport function createClient() {\n  return createSupabaseClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n      storage: typeof window !== 'undefined' ? window.localStorage : undefined,\n      storageKey: 'expenses-made-easy-auth'\n    }\n  });\n}\n\nexport const supabase = createClient();\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,SAAS;IACd,OAAO,IAAA,uMAAoB,EAAC,aAAa,iBAAiB;QACxD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;YACpB,SAAS,sCAAgC,0BAAsB;YAC/D,YAAY;QACd;IACF;AACF;AAEO,MAAM,WAAW"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/components/Navigation.tsx"],"sourcesContent":["import Link from 'next/link';\n\ntype Variant = 'expenses' | 'sitesense';\n\nexport default function Navigation({ variant = 'sitesense' }: { variant?: Variant }) {\n  const isExpense = variant === 'expenses';\n\n  return (\n    <nav className=\"bg-gradient-to-r from-slate-900 to-slate-800 text-slate-100 shadow\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between\">\n        {/* Brand */}\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-8 w-8 rounded-md bg-slate-700 flex items-center justify-center text-slate-50 text-sm font-bold border border-slate-600\">\n            {isExpense ? 'EM' : 'SS'}\n          </div>\n          <div className=\"flex flex-col leading-tight\">\n            <span className=\"text-sm font-semibold tracking-tight\">\n              {isExpense ? 'Expenses Made Easy' : 'SiteSense'}\n            </span>\n            <span className=\"text-[11px] text-slate-300\">\n              {isExpense ? 'Expenses · Budgets · Receipts' : 'Jobs · Time · Costs'}\n            </span>\n          </div>\n        </div>\n\n        {/* Main nav */}\n        <div className=\"hidden md:flex items-center gap-6 text-sm font-medium\">\n          {isExpense ? (\n            <>\n              <Link href=\"/expenses/dashboard\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Dashboard\n              </Link>\n              <Link href=\"/expenses\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Expenses\n              </Link>\n              <Link href=\"/budgets\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Budgets\n              </Link>\n              <Link href=\"/receipts\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Receipts\n              </Link>\n              <Link href=\"/settings\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Settings\n              </Link>\n            </>\n          ) : (\n            <>\n              <Link href=\"/expense-dashboard\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Dashboard\n              </Link>\n              <Link href=\"/jobs\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Jobs\n              </Link>\n              <Link href=\"/expenses\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Expenses\n              </Link>\n              <Link href=\"/time-tracking\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Time\n              </Link>\n              <Link href=\"/settings\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Settings\n              </Link>\n            </>\n          )}\n        </div>\n\n        {/* Right side: placeholder for user stuff */}\n        <div className=\"flex items-center gap-3\">\n          <span className=\"hidden sm:inline text-[11px] text-slate-300\">\n            {isExpense ? 'Track smarter. Save more.' : 'Built for contractors'}\n          </span>\n          <div className=\"h-8 w-8 rounded-full bg-slate-700/60 border border-slate-600 flex items-center justify-center text-[10px] font-semibold text-slate-200\">\n            ME\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAIe,SAAS,WAAW,EAAE,UAAU,WAAW,EAAyB;IACjF,MAAM,YAAY,YAAY;IAE9B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACZ,YAAY,OAAO;;;;;;sCAEtB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CACb,YAAY,uBAAuB;;;;;;8CAEtC,8OAAC;oCAAK,WAAU;8CACb,YAAY,kCAAkC;;;;;;;;;;;;;;;;;;8BAMrD,8OAAC;oBAAI,WAAU;8BACZ,0BACC;;0CACE,8OAAC,uKAAI;gCAAC,MAAK;gCAAsB,WAAU;0CAAuD;;;;;;0CAGlG,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,8OAAC,uKAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAuD;;;;;;0CAGvF,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;;qDAK1F;;0CACE,8OAAC,uKAAI;gCAAC,MAAK;gCAAqB,WAAU;0CAAuD;;;;;;0CAGjG,8OAAC,uKAAI;gCAAC,MAAK;gCAAQ,WAAU;0CAAuD;;;;;;0CAGpF,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,8OAAC,uKAAI;gCAAC,MAAK;gCAAiB,WAAU;0CAAuD;;;;;;0CAG7F,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;;;;;;;;8BAQ9F,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAU;sCACb,YAAY,8BAA8B;;;;;;sCAE7C,8OAAC;4BAAI,WAAU;sCAAyI;;;;;;;;;;;;;;;;;;;;;;;AAOlK"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/app/jobs/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { supabase } from '@/utils/supabase';\nimport Navigation from '@/components/Navigation';\n\ntype Job = {\n  id: string;\n  name: string;\n  client_name: string | null;\n  status: string | null;\n  created_at: string;\n  industries?: { name: string } | null;\n  property_address?: string | null;\n  structure_type?: string | null;\n  roof_type?: string | null;\n  roof_pitch?: string | null;\n  layers?: number | null;\n  measured_squares?: number | null;\n  dumpster_size?: string | null;\n  dumpster_hauler?: string | null;\n  safety_notes?: string | null;\n};\n\ntype Expense = {\n  id: string;\n  amount: number;\n  description: string;\n  date: string;\n  is_business: boolean;\n  vendor: string | null;\n  category: { name: string; icon: string; color: string } | null;\n};\n\ntype TimeEntry = {\n  id: string;\n  entry_date: string;\n  hours: number;\n  hourly_rate: number | null;\n  notes: string | null;\n};\n\ntype Phase = {\n  id: string;\n  name: string;\n  sort_order: number;\n  status: 'planned' | 'active' | 'blocked' | 'completed';\n};\n\ntype Task = {\n  id: string;\n  phase_id: string;\n  title: string;\n  status: 'todo' | 'in_progress' | 'blocked' | 'done';\n  assignee: string | null;\n  due_date: string | null;\n  hours_estimate: number | null;\n  sort_order: number;\n  notes: string | null;\n};\n\ntype Permit = {\n  id: string;\n  permit_number: string | null;\n  authority: string | null;\n  status: 'draft' | 'applied' | 'approved' | 'rejected' | 'closed';\n  inspection_date: string | null;\n};\n\ntype Material = {\n  id: string;\n  name: string;\n  qty: number;\n  unit: string | null;\n  unit_cost: number | null;\n  vendor: string | null;\n};\n\ntype Photo = {\n  id: string;\n  url: string;\n  kind: 'before' | 'during' | 'after' | 'other';\n};\n\ntype WeatherDelay = {\n  id: string;\n  occurred_on: string;\n  hours_lost: number | null;\n  note: string | null;\n};\n\nexport default function JobDetailPage() {\n  const params = useParams<{ id: string }>();\n  const jobId = params.id;\n  const router = useRouter();\n\n  const [job, setJob] = useState<Job | null>(null);\n  const [expenses, setExpenses] = useState<Expense[]>([]);\n  const [timeEntries, setTimeEntries] = useState<TimeEntry[]>([]);\n  const [phases, setPhases] = useState<Phase[]>([]);\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [permits, setPermits] = useState<Permit[]>([]);\n  const [materials, setMaterials] = useState<Material[]>([]);\n  const [photos, setPhotos] = useState<Photo[]>([]);\n  const [delays, setDelays] = useState<WeatherDelay[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const [newTime, setNewTime] = useState({\n    entry_date: new Date().toISOString().split('T')[0],\n    hours: '',\n    hourly_rate: '',\n    notes: '',\n  });\n  const [savingTime, setSavingTime] = useState(false);\n  const [seeding, setSeeding] = useState(false);\n  const [addingTaskForPhase, setAddingTaskForPhase] = useState<string | null>(null);\n  const [newTaskTitle, setNewTaskTitle] = useState('');\n  const [editingTaskId, setEditingTaskId] = useState<string | null>(null);\n  const [taskEdit, setTaskEdit] = useState<{ assignee: string; due_date: string }>({ assignee: '', due_date: '' });\n  const [editingPermitId, setEditingPermitId] = useState<string | null>(null);\n  const [permitEdit, setPermitEdit] = useState<{ permit_number: string; authority: string; inspection_date: string }>({ permit_number: '', authority: '', inspection_date: '' });\n  const [editingMaterialId, setEditingMaterialId] = useState<string | null>(null);\n  const [materialEdit, setMaterialEdit] = useState<{ name: string; qty: string; unit: string; unit_cost: string; vendor: string }>({ name: '', qty: '1', unit: '', unit_cost: '', vendor: '' });\n  const [uploadingPhoto, setUploadingPhoto] = useState(false);\n  const [photoFile, setPhotoFile] = useState<File | null>(null);\n  // Simple add forms\n  const [newPermit, setNewPermit] = useState({ permit_number: '', authority: '', inspection_date: '' });\n  const [newMaterial, setNewMaterial] = useState({ name: '', qty: '1', unit: '', unit_cost: '', vendor: '' });\n  const [newPhoto, setNewPhoto] = useState({ url: '', kind: 'before' as Photo['kind'] });\n  const [newDelay, setNewDelay] = useState({ occurred_on: new Date().toISOString().split('T')[0], hours_lost: '', note: '' });\n\n  useEffect(() => {\n    if (!jobId) return;\n    void loadData();\n  }, [jobId]);\n\n  async function loadData() {\n    setLoading(true);\n    setError(null);\n    try {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n      if (!user) {\n        setError('Please sign in');\n        setLoading(false);\n        return;\n      }\n\n      // Load job\n      const { data: jobData, error: jobError } = await supabase\n        .from('jobs')\n        .select(`\n          id, name, client_name, status, created_at,\n          property_address, structure_type, roof_type, roof_pitch, layers, measured_squares,\n          dumpster_size, dumpster_hauler, safety_notes,\n          industries(name)\n        `)\n        .eq('id', jobId)\n        .single();\n\n      if (jobError || !jobData) {\n        setError('Job not found');\n        setLoading(false);\n        return;\n      }\n\n      setJob(jobData as Job);\n\n      // Load expenses for this job\n      const { data: expenseData, error: expError } = await supabase\n        .from('expenses')\n        .select(\n          `\n          id,\n          amount,\n          description,\n          date,\n          is_business,\n          vendor,\n          categories(name, icon, color)\n        `\n        )\n        .eq('user_id', user.id)\n        .eq('job_id', jobId)\n        .order('date', { ascending: false });\n\n      if (expError) throw expError;\n\n      const formattedExpenses: Expense[] = (expenseData || []).map((e: any) => ({\n        ...e,\n        category: e.categories || null,\n      }));\n      setExpenses(formattedExpenses);\n\n      // Load time entries for this job\n      const { data: timeData, error: timeError } = await supabase\n        .from('time_entries')\n        .select('id, entry_date, hours, hourly_rate, notes')\n        .eq('job_id', jobId)\n        .order('entry_date', { ascending: false });\n\n      if (timeError) throw timeError;\n\n      setTimeEntries(\n        (timeData || []).map((t: any) => ({\n          ...t,\n          hours: Number(t.hours),\n          hourly_rate: t.hourly_rate !== null ? Number(t.hourly_rate) : null,\n        }))\n      );\n\n      // Load phases\n      const { data: phaseData, error: phaseError } = await supabase\n        .from('job_phases')\n        .select('id, name, sort_order, status')\n        .eq('job_id', jobId)\n        .order('sort_order', { ascending: true });\n      if (phaseError) throw phaseError;\n      setPhases((phaseData || []) as Phase[]);\n\n      // Load tasks for phases\n      if (phaseData && phaseData.length > 0) {\n        const phaseIds = (phaseData as any[]).map((p) => p.id);\n        const { data: taskData, error: taskError } = await supabase\n          .from('job_tasks')\n          .select('id, phase_id, title, status, assignee, due_date, hours_estimate, sort_order, notes')\n          .in('phase_id', phaseIds)\n          .order('sort_order', { ascending: true });\n        if (taskError) throw taskError;\n        setTasks(\n          (taskData || []).map((t: any) => ({\n            ...t,\n            hours_estimate: t.hours_estimate !== null ? Number(t.hours_estimate) : null,\n          })) as Task[]\n        );\n      } else {\n        setTasks([]);\n      }\n\n      // Permits\n      const { data: permitData } = await supabase\n        .from('permits')\n        .select('id, permit_number, authority, status, inspection_date')\n        .eq('job_id', jobId)\n        .order('created_at', { ascending: false });\n      setPermits((permitData || []) as Permit[]);\n\n      // Materials\n      const { data: materialData } = await supabase\n        .from('job_materials')\n        .select('id, name, qty, unit, unit_cost, vendor')\n        .eq('job_id', jobId)\n        .order('created_at', { ascending: false });\n      setMaterials(\n        (materialData || []).map((m: any) => ({\n          ...m,\n          qty: Number(m.qty),\n          unit_cost: m.unit_cost !== null ? Number(m.unit_cost) : null,\n        })) as Material[]\n      );\n\n      // Photos\n      const { data: photoData } = await supabase\n        .from('job_photos')\n        .select('id, url, kind')\n        .eq('job_id', jobId)\n        .order('created_at', { ascending: false });\n      setPhotos((photoData || []) as Photo[]);\n\n      // Weather delays\n      const { data: delayData } = await supabase\n        .from('weather_delays')\n        .select('id, occurred_on, hours_lost, note')\n        .eq('job_id', jobId)\n        .order('occurred_on', { ascending: false });\n      setDelays(\n        (delayData || []).map((d: any) => ({\n          ...d,\n          hours_lost: d.hours_lost !== null ? Number(d.hours_lost) : null,\n        })) as WeatherDelay[]\n      );\n    } catch (err) {\n      console.error(err);\n      setError('Failed to load job details.');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const totalExpense = expenses.reduce((sum, e) => sum + e.amount, 0);\n  const totalBusinessExpense = expenses\n    .filter((e) => e.is_business)\n    .reduce((sum, e) => sum + e.amount, 0);\n\n  const totalHours = timeEntries.reduce((sum, t) => sum + t.hours, 0);\n  const totalLaborCost = timeEntries.reduce((sum, t) => {\n    if (!t.hourly_rate) return sum;\n    return sum + t.hours * t.hourly_rate;\n  }, 0);\n\n  const totalJobCost = totalExpense + totalLaborCost;\n\n  async function handleAddTimeEntry(e: React.FormEvent) {\n    e.preventDefault();\n    if (!jobId) return;\n\n    const hours = parseFloat(newTime.hours || '0');\n    const hourlyRate = newTime.hourly_rate ? parseFloat(newTime.hourly_rate) : null;\n\n    if (!hours || hours <= 0) {\n      alert('Enter hours > 0');\n      return;\n    }\n\n    setSavingTime(true);\n    try {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n      if (!user) {\n        alert('Please sign in');\n        return;\n      }\n\n      const { error } = await supabase.from('time_entries').insert({\n        job_id: jobId,\n        user_id: user.id,\n        entry_date: newTime.entry_date,\n        hours,\n        hourly_rate: hourlyRate,\n        notes: newTime.notes || null,\n      });\n\n      if (error) throw error;\n\n      setNewTime({\n        entry_date: newTime.entry_date,\n        hours: '',\n        hourly_rate: '',\n        notes: '',\n      });\n      await loadData();\n    } catch (err: any) {\n      alert('Failed to save time entry: ' + (err.message || 'Unknown error'));\n    } finally {\n      setSavingTime(false);\n    }\n  }\n\n  async function seedPhases() {\n    if (!jobId) return;\n    setSeeding(true);\n    try {\n      const { error } = await supabase.rpc('seed_phases_for_job', { p_job_id: jobId });\n      if (error) throw error;\n      await loadData();\n    } catch (err: any) {\n      alert('Failed to seed phases: ' + (err.message || 'Unknown error'));\n    } finally {\n      setSeeding(false);\n    }\n  }\n\n  async function updateTaskStatus(taskId: string, status: Task['status']) {\n    const { error } = await supabase\n      .from('job_tasks')\n      .update({ status })\n      .eq('id', taskId);\n    if (!error) await loadData();\n  }\n\n  async function addTask(phaseId: string) {\n    if (!newTaskTitle.trim()) return;\n    const { error } = await supabase\n      .from('job_tasks')\n      .insert({ phase_id: phaseId, title: newTaskTitle.trim(), status: 'todo' });\n    if (error) {\n      alert('Failed to add task');\n      return;\n    }\n    setNewTaskTitle('');\n    setAddingTaskForPhase(null);\n    await loadData();\n  }\n\n  async function saveTaskEdit(taskId: string) {\n    const { error } = await supabase\n      .from('job_tasks')\n      .update({ assignee: taskEdit.assignee || null, due_date: taskEdit.due_date || null })\n      .eq('id', taskId);\n    if (!error) {\n      setEditingTaskId(null);\n      await loadData();\n    }\n  }\n\n  // Permits\n  async function addPermit() {\n    if (!jobId) return;\n    const payload = {\n      job_id: jobId,\n      permit_number: newPermit.permit_number || null,\n      authority: newPermit.authority || null,\n      status: 'applied' as Permit['status'],\n      inspection_date: newPermit.inspection_date || null,\n    };\n    const { error } = await supabase.from('permits').insert(payload);\n    if (error) {\n      alert('Failed to add permit');\n      return;\n    }\n    setNewPermit({ permit_number: '', authority: '', inspection_date: '' });\n    await loadData();\n  }\n  async function deletePermit(id: string) {\n    const { error } = await supabase.from('permits').delete().eq('id', id);\n    if (!error) await loadData();\n  }\n\n  // Materials\n  async function addMaterial() {\n    if (!jobId || !newMaterial.name.trim()) return;\n    const { error } = await supabase.from('job_materials').insert({\n      job_id: jobId,\n      name: newMaterial.name.trim(),\n      qty: newMaterial.qty ? Number(newMaterial.qty) : 1,\n      unit: newMaterial.unit || null,\n      unit_cost: newMaterial.unit_cost ? Number(newMaterial.unit_cost) : null,\n      vendor: newMaterial.vendor || null,\n    });\n    if (error) {\n      alert('Failed to add material');\n      return;\n    }\n    setNewMaterial({ name: '', qty: '1', unit: '', unit_cost: '', vendor: '' });\n    await loadData();\n  }\n  async function deleteMaterial(id: string) {\n    const { error } = await supabase.from('job_materials').delete().eq('id', id);\n    if (!error) await loadData();\n  }\n\n  // Photos\n  async function addPhoto() {\n    if (!jobId || !newPhoto.url.trim()) return;\n    const { error } = await supabase.from('job_photos').insert({\n      job_id: jobId,\n      url: newPhoto.url.trim(),\n      kind: newPhoto.kind,\n    });\n    if (error) {\n      alert('Failed to add photo');\n      return;\n    }\n    setNewPhoto({ url: '', kind: 'before' });\n    await loadData();\n  }\n  async function handlePhotoFileChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const f = e.target.files?.[1] ? null : e.target.files?.[0] || null; // single\n    setPhotoFile(f || null);\n  }\n\n  async function uploadPhotoToStorage() {\n    if (!photoFile || !jobId) return;\n    try {\n      setUploadingPhoto(true);\n      const path = `${jobId}/${Date.now()}_${photoFile.name}`;\n      const { error: upErr } = await supabase.storage.from('job-photos').upload(path, photoFile, { cacheControl: '3600', upsert: false });\n      if (upErr) throw upErr;\n      const { data } = supabase.storage.from('job-photos').getPublicUrl(path);\n      const publicUrl = data.publicUrl;\n      // Save to table\n      const { error } = await supabase.from('job_photos').insert({ job_id: jobId, url: publicUrl, kind: newPhoto.kind });\n      if (error) throw error;\n      setPhotoFile(null);\n      await loadData();\n    } catch (err: any) {\n      alert('Upload failed (ensure bucket job-photos exists and is public): ' + (err.message || 'Unknown error'));\n    } finally {\n      setUploadingPhoto(false);\n    }\n  }\n\n  // Permit & Material inline edit\n  async function savePermitEditRow(id: string) {\n    const { error } = await supabase\n      .from('permits')\n      .update({\n        permit_number: permitEdit.permit_number || null,\n        authority: permitEdit.authority || null,\n        inspection_date: permitEdit.inspection_date || null,\n      })\n      .eq('id', id);\n    if (!error) {\n      setEditingPermitId(null);\n      await loadData();\n    }\n  }\n\n  async function saveMaterialEditRow(id: string) {\n    const { error } = await supabase\n      .from('job_materials')\n      .update({\n        name: materialEdit.name.trim() || null,\n        qty: materialEdit.qty ? Number(materialEdit.qty) : null,\n        unit: materialEdit.unit || null,\n        unit_cost: materialEdit.unit_cost ? Number(materialEdit.unit_cost) : null,\n        vendor: materialEdit.vendor || null,\n      })\n      .eq('id', id);\n    if (!error) {\n      setEditingMaterialId(null);\n      await loadData();\n    }\n  }\n  async function deletePhoto(id: string) {\n    const { error } = await supabase.from('job_photos').delete().eq('id', id);\n    if (!error) await loadData();\n  }\n\n  // Weather delays\n  async function addDelay() {\n    if (!jobId || !newDelay.occurred_on) return;\n    const { error } = await supabase.from('weather_delays').insert({\n      job_id: jobId,\n      occurred_on: newDelay.occurred_on,\n      hours_lost: newDelay.hours_lost ? Number(newDelay.hours_lost) : null,\n      note: newDelay.note || null,\n    });\n    if (error) {\n      alert('Failed to add weather delay');\n      return;\n    }\n    setNewDelay({ occurred_on: new Date().toISOString().split('T')[0], hours_lost: '', note: '' });\n    await loadData();\n  }\n  async function deleteDelay(id: string) {\n    const { error } = await supabase.from('weather_delays').delete().eq('id', id);\n    if (!error) await loadData();\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navigation variant=\"sitesense\" />\n        <div className=\"flex items-center justify-center py-24\">\n          <p className=\"text-gray-600\">Loading job…</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !job) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navigation />\n        <div className=\"flex flex-col items-center justify-center gap-4 py-24\">\n          <p className=\"text-red-600\">{error || 'Job not found'}</p>\n          <button\n            onClick={() => router.push('/jobs')}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg\"\n          >\n            Back to Jobs\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navigation variant=\"sitesense\" />\n      <main className=\"max-w-6xl mx-auto px-4 py-8 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">{job.name}</h1>\n            <p className=\"text-gray-600 text-sm mt-1\">\n              {job.client_name && <span>Client: {job.client_name} · </span>}\n              {job.industries?.name && <span>Industry: {job.industries.name} · </span>}\n              <span className=\"capitalize\">Status: {job.status || 'active'}</span>\n            </p>\n          </div>\n          <Link href=\"/jobs\" className=\"text-sm text-blue-600 hover:text-blue-700 font-semibold\">\n            ← Back to Jobs\n          </Link>\n        </div>\n\n        {/* Summary cards */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-8\">\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <p className=\"text-xs text-gray-500 uppercase\">Total Expenses</p>\n            <p className=\"text-2xl font-bold text-gray-900 mt-1\">${totalExpense.toFixed(2)}</p>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <p className=\"text-xs text-gray-500 uppercase\">Business Expenses</p>\n            <p className=\"text-2xl font-bold text-blue-700 mt-1\">\n              ${totalBusinessExpense.toFixed(2)}\n            </p>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <p className=\"text-xs text-gray-500 uppercase\">Hours Logged</p>\n            <p className=\"text-2xl font-bold text-gray-900 mt-1\">{totalHours.toFixed(2)}</p>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <p className=\"text-xs text-gray-500 uppercase\">Total Job Cost</p>\n            <p className=\"text-2xl font-bold text-purple-700 mt-1\">\n              ${totalJobCost.toFixed(2)}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Expenses */}\n          <section className=\"lg:col-span-2 bg-white rounded-lg shadow overflow-hidden\">\n            <div className=\"flex justify-between items-center px-4 py-3 border-b\">\n              <h2 className=\"font-semibold text-gray-900\">Expenses for this Job</h2>\n              <Link\n                href=\"/expenses/new\"\n                className=\"text-sm text-blue-600 hover:text-blue-700\"\n              >\n                + Add Expense\n              </Link>\n            </div>\n            {expenses.length === 0 ? (\n              <div className=\"p-6 text-gray-500 text-sm\">\n                No expenses linked to this job yet.\n              </div>\n            ) : (\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left text-gray-600\">Date</th>\n                      <th className=\"px-4 py-2 text-left text-gray-600\">Description</th>\n                      <th className=\"px-4 py-2 text-left text-gray-600\">Category</th>\n                      <th className=\"px-4 py-2 text-left text-gray-600\">Vendor</th>\n                      <th className=\"px-4 py-2 text-right text-gray-600\">Amount</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {expenses.map((e) => (\n                      <tr key={e.id} className=\"border-t\">\n                        <td className=\"px-4 py-2\">\n                          {new Date(e.date).toLocaleDateString()}\n                        </td>\n                        <td className=\"px-4 py-2\">{e.description}</td>\n                        <td className=\"px-4 py-2\">\n                          {e.category && (\n                            <span className=\"inline-flex items-center gap-1\">\n                              <span>{e.category.icon}</span>\n                              <span>{e.category.name}</span>\n                            </span>\n                          )}\n                        </td>\n                        <td className=\"px-4 py-2\">{e.vendor || '—'}</td>\n                        <td className=\"px-4 py-2 text-right\">\n                          ${e.amount.toFixed(2)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n      </section>\n\n        {/* Job Details (Roofing fields) */}\n        <section className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"font-semibold text-gray-900\">Job Details</h2>\n          </div>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm\">\n            {job.property_address && (\n              <div>\n                <p className=\"text-gray-500\">Property Address</p>\n                <p className=\"font-medium text-gray-900\">{job.property_address}</p>\n              </div>\n            )}\n            {job.structure_type && (\n              <div>\n                <p className=\"text-gray-500\">Structure Type</p>\n                <p className=\"font-medium text-gray-900\">{job.structure_type}</p>\n              </div>\n            )}\n            {job.roof_type && (\n              <div>\n                <p className=\"text-gray-500\">Roof Type</p>\n                <p className=\"font-medium text-gray-900\">{job.roof_type}</p>\n              </div>\n            )}\n            {job.roof_pitch && (\n              <div>\n                <p className=\"text-gray-500\">Roof Pitch</p>\n                <p className=\"font-medium text-gray-900\">{job.roof_pitch}</p>\n              </div>\n            )}\n            {job.layers !== null && job.layers !== undefined && (\n              <div>\n                <p className=\"text-gray-500\">Layers</p>\n                <p className=\"font-medium text-gray-900\">{job.layers}</p>\n              </div>\n            )}\n            {job.measured_squares !== null && job.measured_squares !== undefined && (\n              <div>\n                <p className=\"text-gray-500\">Measured Squares</p>\n                <p className=\"font-medium text-gray-900\">{job.measured_squares}</p>\n              </div>\n            )}\n            {job.dumpster_size && (\n              <div>\n                <p className=\"text-gray-500\">Dumpster Size</p>\n                <p className=\"font-medium text-gray-900\">{job.dumpster_size}</p>\n              </div>\n            )}\n            {job.dumpster_hauler && (\n              <div>\n                <p className=\"text-gray-500\">Dumpster Hauler</p>\n                <p className=\"font-medium text-gray-900\">{job.dumpster_hauler}</p>\n              </div>\n            )}\n            {job.safety_notes && (\n              <div className=\"sm:col-span-2 lg:col-span-3\">\n                <p className=\"text-gray-500\">Safety Notes</p>\n                <p className=\"font-medium text-gray-900\">{job.safety_notes}</p>\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* Permits */}\n        <section className=\"bg-white rounded-lg shadow mt-6\">\n          <div className=\"px-4 py-3 border-b\">\n            <h2 className=\"font-semibold text-gray-900\">Permits</h2>\n          </div>\n          <div className=\"p-4 space-y-3\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3\">\n              <input\n                placeholder=\"Permit Number\"\n                value={newPermit.permit_number}\n                onChange={(e) => setNewPermit({ ...newPermit, permit_number: e.target.value })}\n                className=\"px-3 py-2 border rounded\"\n              />\n              <input\n                placeholder=\"Authority\"\n                value={newPermit.authority}\n                onChange={(e) => setNewPermit({ ...newPermit, authority: e.target.value })}\n                className=\"px-3 py-2 border rounded\"\n              />\n              <input\n                type=\"date\"\n                value={newPermit.inspection_date}\n                onChange={(e) => setNewPermit({ ...newPermit, inspection_date: e.target.value })}\n                className=\"px-3 py-2 border rounded\"\n                title=\"Inspection Date\"\n              />\n              <button onClick={addPermit} className=\"px-3 py-2 bg-blue-600 text-white rounded\">Add Permit</button>\n            </div>\n\n            {permits.length === 0 ? (\n              <p className=\"text-sm text-gray-500\">No permits yet.</p>\n            ) : (\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-3 py-2 text-left\">Number</th>\n                      <th className=\"px-3 py-2 text-left\">Authority</th>\n                      <th className=\"px-3 py-2 text-left\">Status</th>\n                      <th className=\"px-3 py-2 text-left\">Inspection</th>\n                      <th className=\"px-3 py-2 text-right\">Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {permits.map((p) => (\n                      <tr key={p.id} className=\"border-t\">\n                        <td className=\"px-3 py-2\">\n                          {editingPermitId === p.id ? (\n                            <input\n                              className=\"px-2 py-1 border rounded w-full\"\n                              value={permitEdit.permit_number}\n                              onChange={(e) => setPermitEdit({ ...permitEdit, permit_number: e.target.value })}\n                            />\n                          ) : (\n                            p.permit_number || '—'\n                          )}\n                        </td>\n                        <td className=\"px-3 py-2\">\n                          {editingPermitId === p.id ? (\n                            <input\n                              className=\"px-2 py-1 border rounded w-full\"\n                              value={permitEdit.authority}\n                              onChange={(e) => setPermitEdit({ ...permitEdit, authority: e.target.value })}\n                            />\n                          ) : (\n                            p.authority || '—'\n                          )}\n                        </td>\n                        <td className=\"px-3 py-2 capitalize\">{p.status}</td>\n                        <td className=\"px-3 py-2\">\n                          {editingPermitId === p.id ? (\n                            <input\n                              type=\"date\"\n                              className=\"px-2 py-1 border rounded w-full\"\n                              value={permitEdit.inspection_date}\n                              onChange={(e) => setPermitEdit({ ...permitEdit, inspection_date: e.target.value })}\n                            />\n                          ) : (\n                            p.inspection_date ? new Date(p.inspection_date).toLocaleDateString() : '—'\n                          )}\n                        </td>\n                        <td className=\"px-3 py-2 text-right space-x-3\">\n                          {editingPermitId === p.id ? (\n                            <>\n                              <button onClick={() => savePermitEditRow(p.id)} className=\"text-blue-600 hover:text-blue-700\">Save</button>\n                              <button onClick={() => setEditingPermitId(null)} className=\"text-gray-600 hover:text-gray-700\">Cancel</button>\n                            </>\n                          ) : (\n                            <>\n                              <button onClick={() => { setEditingPermitId(p.id); setPermitEdit({ permit_number: p.permit_number || '', authority: p.authority || '', inspection_date: p.inspection_date || '' }); }} className=\"text-blue-600 hover:text-blue-700\">Edit</button>\n                              <button onClick={() => deletePermit(p.id)} className=\"text-red-600 hover:text-red-700\">Delete</button>\n                            </>\n                          )}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* Materials / BOM */}\n        <section className=\"bg-white rounded-lg shadow mt-6\">\n          <div className=\"px-4 py-3 border-b\">\n            <h2 className=\"font-semibold text-gray-900\">Materials / BOM</h2>\n          </div>\n          <div className=\"p-4 space-y-3\">\n            <div className=\"grid grid-cols-1 md:grid-cols-6 gap-3\">\n              <input\n                placeholder=\"Material name\"\n                value={newMaterial.name}\n                onChange={(e) => setNewMaterial({ ...newMaterial, name: e.target.value })}\n                className=\"px-3 py-2 border rounded md:col-span-2\"\n              />\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                placeholder=\"Qty\"\n                value={newMaterial.qty}\n                onChange={(e) => setNewMaterial({ ...newMaterial, qty: e.target.value })}\n                className=\"px-3 py-2 border rounded\"\n              />\n              <input\n                placeholder=\"Unit (e.g., sq, roll)\"\n                value={newMaterial.unit}\n                onChange={(e) => setNewMaterial({ ...newMaterial, unit: e.target.value })}\n                className=\"px-3 py-2 border rounded\"\n              />\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0\"\n                placeholder=\"Unit Cost\"\n                value={newMaterial.unit_cost}\n                onChange={(e) => setNewMaterial({ ...newMaterial, unit_cost: e.target.value })}\n                className=\"px-3 py-2 border rounded\"\n              />\n              <input\n                placeholder=\"Vendor\"\n                value={newMaterial.vendor}\n                onChange={(e) => setNewMaterial({ ...newMaterial, vendor: e.target.value })}\n                className=\"px-3 py-2 border rounded\"\n              />\n              <button onClick={addMaterial} className=\"px-3 py-2 bg-blue-600 text-white rounded\">Add</button>\n            </div>\n\n            {materials.length === 0 ? (\n              <p className=\"text-sm text-gray-500\">No materials yet.</p>\n            ) : (\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-3 py-2 text-left\">Name</th>\n                      <th className=\"px-3 py-2 text-left\">Qty</th>\n                      <th className=\"px-3 py-2 text-left\">Unit</th>\n                      <th className=\"px-3 py-2 text-left\">Unit Cost</th>\n                      <th className=\"px-3 py-2 text-left\">Vendor</th>\n                      <th className=\"px-3 py-2 text-right\">Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {materials.map((m) => (\n                      <tr key={m.id} className=\"border-t\">\n                        <td className=\"px-3 py-2\">\n                          {editingMaterialId === m.id ? (\n                            <input className=\"px-2 py-1 border rounded w-full\" value={materialEdit.name} onChange={(e) => setMaterialEdit({ ...materialEdit, name: e.target.value })} />\n                          ) : (\n                            m.name\n                          )}\n                        </td>\n                        <td className=\"px-3 py-2\">\n                          {editingMaterialId === m.id ? (\n                            <input type=\"number\" step=\"0.01\" className=\"px-2 py-1 border rounded w-full\" value={materialEdit.qty} onChange={(e) => setMaterialEdit({ ...materialEdit, qty: e.target.value })} />\n                          ) : (\n                            m.qty\n                          )}\n                        </td>\n                        <td className=\"px-3 py-2\">\n                          {editingMaterialId === m.id ? (\n                            <input className=\"px-2 py-1 border rounded w-full\" value={materialEdit.unit} onChange={(e) => setMaterialEdit({ ...materialEdit, unit: e.target.value })} />\n                          ) : (\n                            m.unit || '—'\n                          )}\n                        </td>\n                        <td className=\"px-3 py-2\">\n                          {editingMaterialId === m.id ? (\n                            <input type=\"number\" step=\"0.01\" className=\"px-2 py-1 border rounded w-full\" value={materialEdit.unit_cost} onChange={(e) => setMaterialEdit({ ...materialEdit, unit_cost: e.target.value })} />\n                          ) : (\n                            m.unit_cost !== null ? `$${m.unit_cost.toFixed(2)}` : '—'\n                          )}\n                        </td>\n                        <td className=\"px-3 py-2\">\n                          {editingMaterialId === m.id ? (\n                            <input className=\"px-2 py-1 border rounded w-full\" value={materialEdit.vendor} onChange={(e) => setMaterialEdit({ ...materialEdit, vendor: e.target.value })} />\n                          ) : (\n                            m.vendor || '—'\n                          )}\n                        </td>\n                        <td className=\"px-3 py-2 text-right space-x-3\">\n                          {editingMaterialId === m.id ? (\n                            <>\n                              <button onClick={() => saveMaterialEditRow(m.id)} className=\"text-blue-600 hover:text-blue-700\">Save</button>\n                              <button onClick={() => setEditingMaterialId(null)} className=\"text-gray-600 hover:text-gray-700\">Cancel</button>\n                            </>\n                          ) : (\n                            <>\n                              <button onClick={() => { setEditingMaterialId(m.id); setMaterialEdit({ name: m.name, qty: String(m.qty), unit: m.unit || '', unit_cost: m.unit_cost !== null ? String(m.unit_cost) : '', vendor: m.vendor || '' }); }} className=\"text-blue-600 hover:text-blue-700\">Edit</button>\n                              <button onClick={() => deleteMaterial(m.id)} className=\"text-red-600 hover:text-red-700\">Delete</button>\n                            </>\n                          )}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* Photos */}\n        <section className=\"bg-white rounded-lg shadow mt-6\">\n          <div className=\"px-4 py-3 border-b\">\n            <h2 className=\"font-semibold text-gray-900\">Photos</h2>\n          </div>\n          <div className=\"p-4 space-y-3\">\n            <div className=\"grid grid-cols-1 md:grid-cols-5 gap-3\">\n              <input\n                placeholder=\"Image URL\"\n                value={newPhoto.url}\n                onChange={(e) => setNewPhoto({ ...newPhoto, url: e.target.value })}\n                className=\"px-3 py-2 border rounded md:col-span-2\"\n              />\n              <select\n                value={newPhoto.kind}\n                onChange={(e) => setNewPhoto({ ...newPhoto, kind: e.target.value as Photo['kind'] })}\n                className=\"px-3 py-2 border rounded\"\n              >\n                <option value=\"before\">Before</option>\n                <option value=\"during\">During</option>\n                <option value=\"after\">After</option>\n                <option value=\"other\">Other</option>\n              </select>\n              <input type=\"file\" accept=\"image/*\" onChange={handlePhotoFileChange} className=\"px-3 py-2 border rounded\" />\n              <div className=\"flex gap-2\">\n                <button onClick={addPhoto} className=\"px-3 py-2 bg-blue-600 text-white rounded\">Add by URL</button>\n                <button onClick={uploadPhotoToStorage} disabled={uploadingPhoto || !photoFile} className=\"px-3 py-2 bg-emerald-600 text-white rounded disabled:opacity-50\">{uploadingPhoto ? 'Uploading…' : 'Upload File'}</button>\n              </div>\n            </div>\n\n            {photos.length === 0 ? (\n              <p className=\"text-sm text-gray-500\">No photos yet.</p>\n            ) : (\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\">\n                {photos.map((p) => (\n                  <div key={p.id} className=\"bg-gray-50 rounded border overflow-hidden\">\n                    <div className=\"aspect-[4/3] bg-gray-100\">\n                      <img src={p.url} alt={p.kind} className=\"w-full h-full object-cover\" />\n                    </div>\n                    <div className=\"p-2 flex items-center justify-between text-xs text-gray-700\">\n                      <span className=\"capitalize\">{p.kind}</span>\n                      <button onClick={() => deletePhoto(p.id)} className=\"text-red-600 hover:text-red-700\">Delete</button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* Weather Delays */}\n        <section className=\"bg-white rounded-lg shadow mt-6\">\n          <div className=\"px-4 py-3 border-b\">\n            <h2 className=\"font-semibold text-gray-900\">Weather Delays</h2>\n          </div>\n          <div className=\"p-4 space-y-3\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3\">\n              <input\n                type=\"date\"\n                value={newDelay.occurred_on}\n                onChange={(e) => setNewDelay({ ...newDelay, occurred_on: e.target.value })}\n                className=\"px-3 py-2 border rounded\"\n                title=\"Date\"\n              />\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"0.25\"\n                placeholder=\"Hours Lost\"\n                value={newDelay.hours_lost}\n                onChange={(e) => setNewDelay({ ...newDelay, hours_lost: e.target.value })}\n                className=\"px-3 py-2 border rounded\"\n              />\n              <input\n                placeholder=\"Note\"\n                value={newDelay.note}\n                onChange={(e) => setNewDelay({ ...newDelay, note: e.target.value })}\n                className=\"px-3 py-2 border rounded md:col-span-1\"\n              />\n              <button onClick={addDelay} className=\"px-3 py-2 bg-blue-600 text-white rounded\">Add Delay</button>\n            </div>\n\n            {delays.length === 0 ? (\n              <p className=\"text-sm text-gray-500\">No weather delays logged.</p>\n            ) : (\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-3 py-2 text-left\">Date</th>\n                      <th className=\"px-3 py-2 text-left\">Hours Lost</th>\n                      <th className=\"px-3 py-2 text-left\">Note</th>\n                      <th className=\"px-3 py-2 text-right\">Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {delays.map((d) => (\n                      <tr key={d.id} className=\"border-t\">\n                        <td className=\"px-3 py-2\">{new Date(d.occurred_on).toLocaleDateString()}</td>\n                        <td className=\"px-3 py-2\">{d.hours_lost !== null ? d.hours_lost.toFixed(2) : '—'}</td>\n                        <td className=\"px-3 py-2\">{d.note || '—'}</td>\n                        <td className=\"px-3 py-2 text-right\">\n                          <button onClick={() => deleteDelay(d.id)} className=\"text-red-600 hover:text-red-700\">Delete</button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n        </section>\n\n          {/* Time tracking */}\n          <section className=\"bg-white rounded-lg shadow p-4 space-y-4\">\n            <div className=\"flex justify-between items-center mb-2\">\n              <h2 className=\"font-semibold text-gray-900\">Time Entries</h2>\n            </div>\n\n            <form onSubmit={handleAddTimeEntry} className=\"space-y-3\">\n              <div>\n                <label className=\"block text-xs font-medium mb-1\">Date</label>\n                <input\n                  type=\"date\"\n                  value={newTime.entry_date}\n                  onChange={(e) =>\n                    setNewTime((prev) => ({ ...prev, entry_date: e.target.value }))\n                  }\n                  className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <label className=\"block text-xs font-medium mb-1\">Hours *</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.25\"\n                    min=\"0\"\n                    required\n                    value={newTime.hours}\n                    onChange={(e) =>\n                      setNewTime((prev) => ({ ...prev, hours: e.target.value }))\n                    }\n                    className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-xs font-medium mb-1\">Hourly Rate</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    min=\"0\"\n                    value={newTime.hourly_rate}\n                    onChange={(e) =>\n                      setNewTime((prev) => ({ ...prev, hourly_rate: e.target.value }))\n                    }\n                    className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"optional\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-xs font-medium mb-1\">Notes</label>\n                <textarea\n                  rows={2}\n                  value={newTime.notes}\n                  onChange={(e) =>\n                    setNewTime((prev) => ({ ...prev, notes: e.target.value }))\n                  }\n                  className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <button\n                type=\"submit\"\n                disabled={savingTime}\n                className=\"w-full bg-blue-600 text-white py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 disabled:opacity-50\"\n              >\n                {savingTime ? 'Saving…' : '+ Add Time Entry'}\n              </button>\n            </form>\n\n            <div className=\"border-t pt-3\">\n              <p className=\"text-xs text-gray-500 mb-1\">\n                Total Hours:{' '}\n                <span className=\"font-semibold text-gray-900\">\n                  {totalHours.toFixed(2)}\n                </span>\n              </p>\n              <p className=\"text-xs text-gray-500\">\n                Labor Cost:{' '}\n                <span className=\"font-semibold text-purple-700\">\n                  ${totalLaborCost.toFixed(2)}\n                </span>\n              </p>\n            </div>\n\n            {timeEntries.length > 0 && (\n              <div className=\"border-t pt-3 max-h-60 overflow-y-auto text-xs\">\n                {timeEntries.map((t) => (\n                  <div key={t.id} className=\"py-1 border-b last:border-b-0\">\n                    <div className=\"flex justify-between\">\n                      <span>{new Date(t.entry_date).toLocaleDateString()}</span>\n                      <span>{t.hours.toFixed(2)} hrs</span>\n                    </div>\n                    {t.hourly_rate && (\n                      <div className=\"flex justify-between text-gray-500\">\n                        <span>@ ${t.hourly_rate.toFixed(2)}/hr</span>\n                        <span>${(t.hourly_rate * t.hours).toFixed(2)}</span>\n                      </div>\n                    )}\n                    {t.notes && (\n                      <p className=\"text-gray-600 mt-0.5 line-clamp-2\">{t.notes}</p>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n          </section>\n        </div>\n\n        {/* Phases & Tasks */}\n        <section className=\"bg-white rounded-lg shadow\">\n          <div className=\"px-4 py-3 border-b flex items-center justify-between\">\n            <div>\n              <h2 className=\"font-semibold text-gray-900\">Project Phases</h2>\n              <p className=\"text-xs text-gray-500\">Track progress from intake to closeout.</p>\n            </div>\n            <button\n              onClick={seedPhases}\n              disabled={seeding || phases.length > 0}\n              className=\"text-sm px-3 py-1.5 bg-blue-600 text-white rounded-lg disabled:opacity-50\"\n              title={phases.length > 0 ? 'Phases already exist' : 'Seed from industry templates'}\n            >\n              {seeding ? 'Seeding…' : phases.length > 0 ? 'Phases Ready' : 'Seed Phases'}\n            </button>\n          </div>\n\n          {phases.length === 0 ? (\n            <div className=\"p-6 text-sm text-gray-500\">No phases yet. Click \"Seed Phases\" to add the standard workflow.</div>\n          ) : (\n            <div className=\"divide-y\">\n              {phases.map((p) => (\n                <div key={p.id} className=\"p-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"flex items-center gap-3\">\n                      <h3 className=\"font-semibold text-gray-900\">{p.name}</h3>\n                      <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${\n                        p.status === 'completed' ? 'bg-green-100 text-green-800' :\n                        p.status === 'active' ? 'bg-blue-100 text-blue-800' :\n                        p.status === 'blocked' ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-800'\n                      }`}>\n                        {p.status}\n                      </span>\n                    </div>\n                    <button\n                      onClick={() => { setAddingTaskForPhase(p.id); setNewTaskTitle(''); }}\n                      className=\"text-sm text-blue-600 hover:text-blue-700\"\n                    >\n                      + Add Task\n                    </button>\n                  </div>\n\n                  {/* Tasks list */}\n                  <ul className=\"space-y-2\">\n                    {tasks.filter(t => t.phase_id === p.id).map((t) => (\n                      <li key={t.id} className=\"bg-gray-50 rounded p-2\">\n                        <div className=\"flex items-center justify-between gap-2\">\n                          <div>\n                            <p className=\"font-medium text-gray-800\">{t.title}</p>\n                            {editingTaskId === t.id ? (\n                              <div className=\"mt-1 flex items-center gap-2 text-xs\">\n                                <input\n                                  value={taskEdit.assignee}\n                                  onChange={(e) => setTaskEdit({ ...taskEdit, assignee: e.target.value })}\n                                  placeholder=\"Assignee\"\n                                  className=\"px-2 py-1 border rounded\"\n                                />\n                                <input\n                                  type=\"date\"\n                                  value={taskEdit.due_date}\n                                  onChange={(e) => setTaskEdit({ ...taskEdit, due_date: e.target.value })}\n                                  className=\"px-2 py-1 border rounded\"\n                                />\n                                <button onClick={() => saveTaskEdit(t.id)} className=\"px-2 py-1 bg-blue-600 text-white rounded\">Save</button>\n                                <button onClick={() => setEditingTaskId(null)} className=\"px-2 py-1 bg-gray-200 text-gray-700 rounded\">Cancel</button>\n                              </div>\n                            ) : (\n                              <p className=\"text-xs text-gray-500\">\n                                {t.assignee ? `Assignee: ${t.assignee} · ` : ''}\n                                {t.due_date ? `Due: ${new Date(t.due_date).toLocaleDateString()}` : ''}\n                              </p>\n                            )}\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <select\n                              value={t.status}\n                              onChange={(e) => updateTaskStatus(t.id, e.target.value as Task['status'])}\n                              className=\"text-sm px-2 py-1 border rounded\"\n                            >\n                              <option value=\"todo\">To do</option>\n                              <option value=\"in_progress\">In progress</option>\n                              <option value=\"blocked\">Blocked</option>\n                              <option value=\"done\">Done</option>\n                            </select>\n                            <button\n                              onClick={() => { setEditingTaskId(t.id); setTaskEdit({ assignee: t.assignee || '', due_date: t.due_date || '' }); }}\n                              className=\"text-xs text-blue-600 hover:text-blue-700\"\n                            >\n                              Edit\n                            </button>\n                          </div>\n                        </div>\n                      </li>\n                    ))}\n                  </ul>\n\n                  {/* Add task inline */}\n                  {addingTaskForPhase === p.id && (\n                    <div className=\"mt-3 flex items-center gap-2\">\n                      <input\n                        value={newTaskTitle}\n                        onChange={(e) => setNewTaskTitle(e.target.value)}\n                        placeholder=\"Task title\"\n                        className=\"flex-1 px-3 py-2 border rounded\"\n                      />\n                      <button\n                        onClick={() => addTask(p.id)}\n                        className=\"px-3 py-2 bg-blue-600 text-white rounded\"\n                      >\n                        Add\n                      </button>\n                      <button\n                        onClick={() => { setAddingTaskForPhase(null); setNewTaskTitle(''); }}\n                        className=\"px-3 py-2 bg-gray-200 text-gray-700 rounded\"\n                      >\n                        Cancel\n                      </button>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </section>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}