{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/utils/supabase.ts"],"sourcesContent":["import { createClient as createSupabaseClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport function createClient() {\n  return createSupabaseClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n      storage: typeof window !== 'undefined' ? window.localStorage : undefined,\n      storageKey: 'expenses-made-easy-auth'\n    }\n  });\n}\n\nexport const supabase = createClient();\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,SAAS;IACd,OAAO,IAAA,uMAAoB,EAAC,aAAa,iBAAiB;QACxD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;YACpB,SAAS,sCAAgC,0BAAsB;YAC/D,YAAY;QACd;IACF;AACF;AAEO,MAAM,WAAW"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/components/Navigation.tsx"],"sourcesContent":["import Link from 'next/link';\n\ntype Variant = 'expenses' | 'sitesense';\n\nexport default function Navigation({ variant = 'sitesense' }: { variant?: Variant }) {\n  const isExpense = variant === 'expenses';\n\n  return (\n    <nav className=\"bg-gradient-to-r from-slate-900 to-slate-800 text-slate-100 shadow\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between\">\n        {/* Brand */}\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-8 w-8 rounded-md bg-slate-700 flex items-center justify-center text-slate-50 text-sm font-bold border border-slate-600\">\n            {isExpense ? 'EM' : 'SS'}\n          </div>\n          <div className=\"flex flex-col leading-tight\">\n            <span className=\"text-sm font-semibold tracking-tight\">\n              {isExpense ? 'Expenses Made Easy' : 'SiteSense'}\n            </span>\n            <span className=\"text-[11px] text-slate-300\">\n              {isExpense ? 'Expenses · Budgets · Receipts' : 'Jobs · Time · Costs'}\n            </span>\n          </div>\n        </div>\n\n        {/* Main nav */}\n        <div className=\"hidden md:flex items-center gap-6 text-sm font-medium\">\n          {isExpense ? (\n            <>\n              <Link href=\"/expenses/dashboard\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Dashboard\n              </Link>\n              <Link href=\"/expenses\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Expenses\n              </Link>\n              <Link href=\"/budgets\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Budgets\n              </Link>\n              <Link href=\"/receipts\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Receipts\n              </Link>\n              <Link href=\"/mileage\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Mileage\n              </Link>\n              <Link href=\"/profile\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Profile\n              </Link>\n              <Link href=\"/settings\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Settings\n              </Link>\n            </>\n          ) : (\n            <>\n              <Link href=\"/expense-dashboard\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Dashboard\n              </Link>\n              <Link href=\"/jobs\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Jobs\n              </Link>\n              <Link href=\"/estimates\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Estimates\n              </Link>\n              <Link href=\"/expenses\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Expenses\n              </Link>\n              <Link href=\"/time-tracking\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Time\n              </Link>\n              <Link href=\"/settings\" className=\"text-slate-200 hover:text-blue-400 transition-colors\">\n                Settings\n              </Link>\n            </>\n          )}\n        </div>\n\n        {/* Right side: placeholder for user stuff */}\n        <div className=\"flex items-center gap-3\">\n          <span className=\"hidden sm:inline text-[11px] text-slate-300\">\n            {isExpense ? 'Track smarter. Save more.' : 'Built for contractors'}\n          </span>\n          <div className=\"h-8 w-8 rounded-full bg-slate-700/60 border border-slate-600 flex items-center justify-center text-[10px] font-semibold text-slate-200\">\n            ME\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAIe,SAAS,WAAW,EAAE,UAAU,WAAW,EAAyB;IACjF,MAAM,YAAY,YAAY;IAE9B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACZ,YAAY,OAAO;;;;;;sCAEtB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CACb,YAAY,uBAAuB;;;;;;8CAEtC,8OAAC;oCAAK,WAAU;8CACb,YAAY,kCAAkC;;;;;;;;;;;;;;;;;;8BAMrD,8OAAC;oBAAI,WAAU;8BACZ,0BACC;;0CACE,8OAAC,uKAAI;gCAAC,MAAK;gCAAsB,WAAU;0CAAuD;;;;;;0CAGlG,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,8OAAC,uKAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAuD;;;;;;0CAGvF,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,8OAAC,uKAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAuD;;;;;;0CAGvF,8OAAC,uKAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAuD;;;;;;0CAGvF,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;;qDAK1F;;0CACE,8OAAC,uKAAI;gCAAC,MAAK;gCAAqB,WAAU;0CAAuD;;;;;;0CAGjG,8OAAC,uKAAI;gCAAC,MAAK;gCAAQ,WAAU;0CAAuD;;;;;;0CAGpF,8OAAC,uKAAI;gCAAC,MAAK;gCAAa,WAAU;0CAAuD;;;;;;0CAGzF,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;0CAGxF,8OAAC,uKAAI;gCAAC,MAAK;gCAAiB,WAAU;0CAAuD;;;;;;0CAG7F,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAuD;;;;;;;;;;;;;8BAQ9F,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAU;sCACb,YAAY,8BAA8B;;;;;;sCAE7C,8OAAC;4BAAI,WAAU;sCAAyI;;;;;;;;;;;;;;;;;;;;;;;AAOlK"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///home/mcsmart/projects/active/expenses_made_easy/app/%28sitesense%29/estimates/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport Link from 'next/link';\nimport { supabase } from '@/utils/supabase';\nimport Navigation from '@/components/Navigation';\n\ntype Row = { id: string; status: string; total: number; created_at: string; public_token: string; po_number: string | null; jobs: { name: string } | null };\n\nexport default function EstimatesListPage() {\n  const [rows, setRows] = useState<Row[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [query, setQuery] = useState('');\n\n  useEffect(() => { void load(); }, []);\n  async function load() {\n    setLoading(true);\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) { setRows([]); return; }\n      const { data, error } = await supabase\n        .from('estimates')\n        .select('id, status, total, created_at, public_token, po_number, jobs(name)')\n        .order('created_at', { ascending: false });\n      if (error) throw error;\n      setRows((data || []).map((r: any) => ({ ...r, total: Number(r.total) })) as Row[]);\n    } catch (err) {\n      console.error('Failed to load estimates', err);\n    } finally { setLoading(false); }\n  }\n\n  const filtered = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    if (!q) return rows;\n    return rows.filter(r =>\n      (r.jobs?.name || '').toLowerCase().includes(q) ||\n      (r.status || '').toLowerCase().includes(q) ||\n      (r.po_number || '').toLowerCase().includes(q) ||\n      r.id.toLowerCase().includes(q)\n    );\n  }, [rows, query]);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navigation variant=\"sitesense\" />\n      <main className=\"max-w-6xl mx-auto px-4 py-8\">\n        <div className=\"mb-6 flex items-center justify-between\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Estimates</h1>\n          <Link href=\"/jobs\" className=\"text-blue-600 hover:text-blue-700 text-sm font-semibold\">← Back to Jobs</Link>\n        </div>\n        <div className=\"mb-4\">\n          <input\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            placeholder=\"Search by PO, job, status, or ID\"\n            className=\"w-full max-w-md px-3 py-2 border rounded\"\n          />\n        </div>\n        {loading ? (\n          <div className=\"text-sm text-gray-600\">Loading…</div>\n        ) : filtered.length === 0 ? (\n          <div className=\"bg-white rounded-lg shadow p-8 text-center text-gray-600\">No estimates yet. Create one from any Job.</div>\n        ) : (\n          <div className=\"bg-white rounded-lg shadow overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead className=\"bg-gray-50 border-b\">\n                <tr>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Job</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">PO #</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Status</th>\n                  <th className=\"px-4 py-2 text-right text-gray-600 font-medium\">Total</th>\n                  <th className=\"px-4 py-2 text-left text-gray-600 font-medium\">Created</th>\n                  <th className=\"px-4 py-2 text-right text-gray-600 font-medium\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filtered.map((r, idx) => (\n                  <tr key={r.id} className={`border-t ${idx % 2 === 0 ? 'bg-white' : 'bg-gray-50/40'}`}>\n                    <td className=\"px-4 py-2\">{r.jobs?.name || '—'}</td>\n                    <td className=\"px-4 py-2\">{r.po_number || '—'}</td>\n                    <td className=\"px-4 py-2 capitalize\">{r.status}</td>\n                    <td className=\"px-4 py-2 text-right\">${r.total.toFixed(2)}</td>\n                    <td className=\"px-4 py-2\">{new Date(r.created_at).toLocaleDateString()}</td>\n                    <td className=\"px-4 py-2 text-right space-x-3\">\n                      <Link href={`/estimates/${r.id}`} className=\"text-blue-600 hover:text-blue-700\">Open</Link>\n                      <a href={`/estimates/public/${r.public_token}`} className=\"text-gray-600 hover:text-gray-800\" target=\"_blank\">Public</a>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}