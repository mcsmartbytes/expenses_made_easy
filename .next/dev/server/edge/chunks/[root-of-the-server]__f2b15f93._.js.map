{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport type { NextRequest } from 'next/server';\n\nexport async function middleware(req: NextRequest) {\n  // Get the session token from cookies\n  const accessToken = req.cookies.get('sb-access-token')?.value;\n  const refreshToken = req.cookies.get('sb-refresh-token')?.value;\n\n  // Protected routes that require authentication\n  const protectedRoutes = [\n    '/expense-dashboard',\n    '/expenses',\n    '/mileage',\n    '/profile',\n    '/budgets',\n    '/receipts',\n  ];\n\n  // Check if the current path is a protected route\n  const isProtectedRoute = protectedRoutes.some((route) =>\n    req.nextUrl.pathname.startsWith(route)\n  );\n\n  // TEMPORARY: Disable auth check for development\n  // Redirect to login if accessing protected route without session\n  // if (isProtectedRoute && !accessToken && !refreshToken) {\n  //   const redirectUrl = new URL('/auth/login', req.url);\n  //   redirectUrl.searchParams.set('redirect', req.nextUrl.pathname);\n  //   return NextResponse.redirect(redirectUrl);\n  // }\n\n  // Redirect to dashboard if accessing auth pages with active session\n  if (\n    (req.nextUrl.pathname.startsWith('/auth/login') ||\n      req.nextUrl.pathname.startsWith('/auth/signup')) &&\n    (accessToken || refreshToken)\n  ) {\n    return NextResponse.redirect(new URL('/expense-dashboard', req.url));\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: [\n    '/expense-dashboard/:path*',\n    '/expenses/:path*',\n    '/mileage/:path*',\n    '/profile/:path*',\n    '/budgets/:path*',\n    '/receipts/:path*',\n    '/auth/login',\n    '/auth/signup',\n  ],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGO,eAAe,WAAW,GAAgB;IAC/C,qCAAqC;IACrC,MAAM,cAAc,IAAI,OAAO,CAAC,GAAG,CAAC,oBAAoB;IACxD,MAAM,eAAe,IAAI,OAAO,CAAC,GAAG,CAAC,qBAAqB;IAE1D,+CAA+C;IAC/C,MAAM,kBAAkB;QACtB;QACA;QACA;QACA;QACA;QACA;KACD;IAED,iDAAiD;IACjD,MAAM,mBAAmB,gBAAgB,IAAI,CAAC,CAAC,QAC7C,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IAGlC,gDAAgD;IAChD,iEAAiE;IACjE,2DAA2D;IAC3D,yDAAyD;IACzD,oEAAoE;IACpE,+CAA+C;IAC/C,IAAI;IAEJ,oEAAoE;IACpE,IACE,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,kBAC/B,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,eAAe,KACjD,CAAC,eAAe,YAAY,GAC5B;QACA,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,sBAAsB,IAAI,GAAG;IACpE;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}}]
}